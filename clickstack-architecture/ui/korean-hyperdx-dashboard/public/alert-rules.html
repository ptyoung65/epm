<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•Œë¦¼ ê·œì¹™ ê´€ë¦¬ - AIRIS EPM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 222.2 84% 4.9%;
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96%;
            --secondary-foreground: 222.2 84% 4.9%;
            --muted: 210 40% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96%;
            --accent-foreground: 222.2 84% 4.9%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 222.2 84% 4.9%;
            --radius: 0.5rem;
        }
        
        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --popover: 222.2 84% 4.9%;
            --popover-foreground: 210 40% 98%;
            --primary: 210 40% 98%;
            --primary-foreground: 222.2 47.4% 11.2%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 212.7 26.8% 83.9%;
        }

        * {
            border-color: hsl(var(--border));
        }

        body {
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
        }

        .card {
            background-color: hsl(var(--card));
            color: hsl(var(--card-foreground));
            border: 1px solid hsl(var(--border));
        }

        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        .btn-primary:hover {
            background-color: hsl(var(--primary) / 0.9);
        }

        .btn-secondary {
            background-color: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
        }

        .btn-ghost {
            background-color: transparent;
            color: hsl(var(--foreground));
        }

        .btn-ghost:hover {
            background-color: hsl(var(--accent));
            color: hsl(var(--accent-foreground));
        }

        .nav-dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            min-width: 200px;
            background-color: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .severity-critical {
            @apply bg-red-100 border-red-400 text-red-700;
        }
        
        .severity-high {
            @apply bg-orange-100 border-orange-400 text-orange-700;
        }
        
        .severity-medium {
            @apply bg-yellow-100 border-yellow-400 text-yellow-700;
        }
        
        .severity-low {
            @apply bg-blue-100 border-blue-400 text-blue-700;
        }

        .dark .severity-critical {
            @apply bg-red-900 border-red-700 text-red-300;
        }
        
        .dark .severity-high {
            @apply bg-orange-900 border-orange-700 text-orange-300;
        }
        
        .dark .severity-medium {
            @apply bg-yellow-900 border-yellow-700 text-yellow-300;
        }
        
        .dark .severity-low {
            @apply bg-blue-900 border-blue-700 text-blue-300;
        }

        .rule-condition {
            @apply bg-gray-50 dark:bg-gray-800 p-3 rounded-md border;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50 dark:bg-gray-900">
    <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="card rounded-none border-x-0 border-t-0">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-8">
                    <a href="/portal.html" class="text-xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer">ğŸš€ AIRIS EPM</a>
                    
                    <!-- ë©”ì¸ ë„¤ë¹„ê²Œì´ì…˜ -->
                    <div class="hidden md:flex items-center space-x-6">
                        <!-- APM ëª¨ë‹ˆí„°ë§ -->
                        <div class="nav-dropdown relative">
                            <button class="flex items-center text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md">
                                ğŸ“Š APM ëª¨ë‹ˆí„°ë§
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div class="dropdown-content">
                                <a href="/j2ee-dashboard.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">â˜• J2EE ëª¨ë‹ˆí„°ë§</a>
                                <a href="/was-dashboard.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ—ï¸ WAS ëª¨ë‹ˆí„°ë§</a>
                                <a href="/exception-dashboard.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸš¨ ì˜ˆì™¸ ì¶”ì </a>
                                <a href="/topology-dashboard.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ—ºï¸ ì„œë¹„ìŠ¤ í† í´ë¡œì§€</a>
                                <a href="/alert-dashboard.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ”” ì•Œë¦¼ ê´€ë¦¬</a>
                            </div>
                        </div>

                        <!-- ì‹œìŠ¤í…œ ê´€ë¦¬ -->
                        <div class="nav-dropdown relative">
                            <button class="flex items-center text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md">
                                âš™ï¸ ì‹œìŠ¤í…œ ê´€ë¦¬
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div class="dropdown-content">
                                <a href="/admin-dashboard.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ‘¤ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</a>
                                <a href="/users-roles.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ‘¥ ì‚¬ìš©ì/ì—­í•  ê´€ë¦¬</a>
                                <a href="/system-settings.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ”§ ì‹œìŠ¤í…œ ì„¤ì •</a>
                                <a href="/external-systems-config.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ”Œ ì™¸ë¶€ì‹œìŠ¤í…œ ì—°ë™</a>
                                <a href="/api-tokens.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ”‘ API í† í° ê´€ë¦¬</a>
                                <a href="/backup-restore.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ’¾ ë°±ì—…/ë³µì›</a>
                                <a href="/audit-logs.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ“‹ ê°ì‚¬ ë¡œê·¸</a>
                                <a href="/alert-rules.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-400">ğŸ”” ì•Œë¦¼ ê·œì¹™</a>
                            </div>
                        </div>

                        <!-- AIOps & ML -->
                        <div class="nav-dropdown relative">
                            <button class="flex items-center text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md">
                                ğŸ¤– AIOps & ML
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div class="dropdown-content">
                                <a href="/aiops-management.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ¤– AIOps ê´€ë¦¬</a>
                                <a href="/ml-training-autoencoder.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ”¬ ML í›ˆë ¨ - ì˜¤í† ì¸ì½”ë”</a>
                                <a href="/ml-training-clustering.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ“ˆ ML í›ˆë ¨ - í´ëŸ¬ìŠ¤í„°ë§</a>
                                <a href="/ml-training-lstm.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ§  ML í›ˆë ¨ - LSTM</a>
                                <a href="/clustering-insights.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ’¡ í´ëŸ¬ìŠ¤í„°ë§ ì¸ì‚¬ì´íŠ¸</a>
                            </div>
                        </div>

                        <!-- ì„¸ì…˜ & ë¶„ì„ -->
                        <div class="nav-dropdown relative">
                            <button class="flex items-center text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md">
                                ğŸ“Š ì„¸ì…˜ & ë¶„ì„
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div class="dropdown-content">
                                <a href="/session-management.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ‘¤ ì„¸ì…˜ ê´€ë¦¬</a>
                                <a href="/session-analysis.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ” ì„¸ì…˜ ë¶„ì„</a>
                                <a href="/session-telemetry-dashboard.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ“ˆ ì„¸ì…˜ í…”ë ˆë©”íŠ¸ë¦¬</a>
                                <a href="/session-replay.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ¬ ì„¸ì…˜ ì¬ìƒ</a>
                            </div>
                        </div>

                        <!-- ì§€ì‹ & ì˜¨í†¨ë¡œì§€ -->
                        <div class="nav-dropdown relative">
                            <button class="flex items-center text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md">
                                ğŸ§  ì§€ì‹ & ì˜¨í†¨ë¡œì§€
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div class="dropdown-content">
                                <a href="/ontology.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">ğŸ§  ì˜¨í†¨ë¡œì§€ ì‹œìŠ¤í…œ</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex items-center space-x-4">
                    <button id="themeToggle" class="btn-ghost p-2 rounded-full">
                        <i class="fas fa-moon dark:hidden"></i>
                        <i class="fas fa-sun hidden dark:block"></i>
                    </button>
                    <button id="refreshBtn" class="btn-secondary px-3 py-2 rounded-md text-sm">
                        <i class="fas fa-refresh mr-1"></i>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
        <div class="mb-6">
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">ì•Œë¦¼ ê·œì¹™ ê´€ë¦¬</h1>
            <p class="text-gray-600 dark:text-gray-400 mt-1">ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ ì•Œë¦¼ ê·œì¹™ì„ ìƒì„±í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤</p>
        </div>

        <!-- ì•Œë¦¼ ê·œì¹™ í†µê³„ ì¹´ë“œ -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
            <div class="card rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">ì´ ê·œì¹™</p>
                        <p class="text-2xl font-bold">42</p>
                    </div>
                    <div class="p-3 rounded-full bg-blue-100 dark:bg-blue-900">
                        <i class="fas fa-bell text-blue-600 dark:text-blue-400"></i>
                    </div>
                </div>
            </div>
            
            <div class="card rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">í™œì„± ê·œì¹™</p>
                        <p class="text-2xl font-bold text-green-600">38</p>
                    </div>
                    <div class="p-3 rounded-full bg-green-100 dark:bg-green-900">
                        <i class="fas fa-check-circle text-green-600 dark:text-green-400"></i>
                    </div>
                </div>
            </div>
            
            <div class="card rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">ë¹„í™œì„± ê·œì¹™</p>
                        <p class="text-2xl font-bold text-orange-600">4</p>
                    </div>
                    <div class="p-3 rounded-full bg-orange-100 dark:bg-orange-900">
                        <i class="fas fa-pause-circle text-orange-600 dark:text-orange-400"></i>
                    </div>
                </div>
            </div>
            
            <div class="card rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">24ì‹œê°„ ì•Œë¦¼</p>
                        <p class="text-2xl font-bold">127</p>
                    </div>
                    <div class="p-3 rounded-full bg-red-100 dark:bg-red-900">
                        <i class="fas fa-exclamation-triangle text-red-600 dark:text-red-400"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- ìƒˆ ê·œì¹™ ìƒì„± -->
        <div class="card rounded-lg p-6 mb-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">ìƒˆ ì•Œë¦¼ ê·œì¹™ ìƒì„±</h3>
                <button id="toggleRuleForm" class="btn-primary px-4 py-2 rounded-md">
                    <i class="fas fa-plus mr-2"></i>
                    ìƒˆ ê·œì¹™ ì¶”ê°€
                </button>
            </div>
            
            <div id="ruleForm" class="hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">ê·œì¹™ ì´ë¦„</label>
                            <input type="text" id="ruleName" placeholder="ì˜ˆ: CPU ì‚¬ìš©ë¥  ê³ ì„ê³„ì¹˜ ì•Œë¦¼" 
                                   class="w-full p-2 rounded-md border bg-transparent">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">ë©”íŠ¸ë¦­</label>
                            <select id="ruleMetric" class="w-full p-2 rounded-md border bg-transparent">
                                <option value="">ë©”íŠ¸ë¦­ ì„ íƒ</option>
                                <option value="cpu.usage">CPU ì‚¬ìš©ë¥ </option>
                                <option value="memory.usage">ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ </option>
                                <option value="disk.usage">ë””ìŠ¤í¬ ì‚¬ìš©ë¥ </option>
                                <option value="network.latency">ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì‹œê°„</option>
                                <option value="response.time">ì‘ë‹µì‹œê°„</option>
                                <option value="error.rate">ì—ëŸ¬ìœ¨</option>
                                <option value="request.count">ìš”ì²­ ìˆ˜</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">ì¡°ê±´</label>
                            <div class="flex space-x-2">
                                <select id="ruleOperator" class="p-2 rounded-md border bg-transparent">
                                    <option value=">">> (ì´ˆê³¼)</option>
                                    <option value=">=">>= (ì´ìƒ)</option>
                                    <option value="<">< (ë¯¸ë§Œ)</option>
                                    <option value="<=">&lt;= (ì´í•˜)</option>
                                    <option value="==">=== (ê°™ìŒ)</option>
                                    <option value="!=">&lt;&gt; (ë‹¤ë¦„)</option>
                                </select>
                                <input type="number" id="ruleThreshold" placeholder="ì„ê³„ê°’" 
                                       class="flex-1 p-2 rounded-md border bg-transparent">
                                <select id="ruleUnit" class="p-2 rounded-md border bg-transparent">
                                    <option value="%">%</option>
                                    <option value="ms">ms</option>
                                    <option value="count">ê°œ</option>
                                    <option value="MB">MB</option>
                                    <option value="GB">GB</option>
                                </select>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">ì§€ì† ì‹œê°„</label>
                            <div class="flex space-x-2">
                                <input type="number" id="ruleDuration" value="5" 
                                       class="flex-1 p-2 rounded-md border bg-transparent">
                                <select class="p-2 rounded-md border bg-transparent">
                                    <option value="minutes">ë¶„</option>
                                    <option value="seconds">ì´ˆ</option>
                                    <option value="hours">ì‹œê°„</option>
                                </select>
                            </div>
                            <p class="text-sm text-gray-500 mt-1">ì¡°ê±´ì´ ì§€ì†ë˜ì–´ì•¼ í•˜ëŠ” ì‹œê°„</p>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">ì‹¬ê°ë„</label>
                            <select id="ruleSeverity" class="w-full p-2 rounded-md border bg-transparent">
                                <option value="low">ë‚®ìŒ (Low)</option>
                                <option value="medium">ë³´í†µ (Medium)</option>
                                <option value="high">ë†’ìŒ (High)</option>
                                <option value="critical">ì¹˜ëª…ì  (Critical)</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">ì•Œë¦¼ ì±„ë„</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2" checked> ì´ë©”ì¼
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2"> Slack
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2"> SMS
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2"> Webhook
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">íƒœê·¸ (ì„ íƒì‚¬í•­)</label>
                            <input type="text" id="ruleTags" placeholder="ì˜ˆ: production, database, critical" 
                                   class="w-full p-2 rounded-md border bg-transparent">
                            <p class="text-sm text-gray-500 mt-1">ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥</p>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">ì„¤ëª…</label>
                            <textarea id="ruleDescription" rows="3" 
                                      placeholder="ì•Œë¦¼ ê·œì¹™ì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”..." 
                                      class="w-full p-2 rounded-md border bg-transparent"></textarea>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6 flex justify-end space-x-3">
                    <button id="cancelRule" class="btn-secondary px-4 py-2 rounded-md">ì·¨ì†Œ</button>
                    <button id="testRule" class="btn-ghost px-4 py-2 rounded-md">í…ŒìŠ¤íŠ¸</button>
                    <button id="saveRule" class="btn-primary px-4 py-2 rounded-md">
                        <i class="fas fa-save mr-2"></i>
                        ê·œì¹™ ì €ì¥
                    </button>
                </div>
            </div>
        </div>

        <!-- ì•Œë¦¼ ê·œì¹™ ëª©ë¡ -->
        <div class="card rounded-lg p-6 mb-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold">ì•Œë¦¼ ê·œì¹™ ëª©ë¡</h3>
                <div class="flex space-x-2">
                    <select id="categoryFilter" class="p-2 rounded-md border bg-transparent text-sm">
                        <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                        <option value="system">ì‹œìŠ¤í…œ</option>
                        <option value="application">ì• í”Œë¦¬ì¼€ì´ì…˜</option>
                        <option value="network">ë„¤íŠ¸ì›Œí¬</option>
                        <option value="security">ë³´ì•ˆ</option>
                    </select>
                    <select id="statusFilter" class="p-2 rounded-md border bg-transparent text-sm">
                        <option value="">ì „ì²´ ìƒíƒœ</option>
                        <option value="active">í™œì„±</option>
                        <option value="inactive">ë¹„í™œì„±</option>
                    </select>
                </div>
            </div>
            
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead>
                        <tr class="border-b">
                            <th class="text-left py-3 px-4">ê·œì¹™ ì´ë¦„</th>
                            <th class="text-left py-3 px-4">ë©”íŠ¸ë¦­</th>
                            <th class="text-left py-3 px-4">ì¡°ê±´</th>
                            <th class="text-left py-3 px-4">ì‹¬ê°ë„</th>
                            <th class="text-left py-3 px-4">ìƒíƒœ</th>
                            <th class="text-left py-3 px-4">ë§ˆì§€ë§‰ ì•Œë¦¼</th>
                            <th class="text-left py-3 px-4">ì‘ì—…</th>
                        </tr>
                    </thead>
                    <tbody id="alertRules">
                        <!-- ì•Œë¦¼ ê·œì¹™ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ì•Œë¦¼ í…œí”Œë¦¿ -->
        <div class="card rounded-lg p-6">
            <h3 class="text-lg font-semibold mb-4 flex items-center">
                <i class="fas fa-envelope text-blue-600 dark:text-blue-400 mr-2"></i>
                ì•Œë¦¼ í…œí”Œë¦¿ ê´€ë¦¬
            </h3>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-medium mb-3">ê¸°ë³¸ í…œí”Œë¦¿</h4>
                    <div class="space-y-3">
                        <div class="rule-condition">
                            <h5 class="font-medium text-sm mb-2">ì´ë©”ì¼ í…œí”Œë¦¿</h5>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">ì œëª©: [{{severity}}] {{rule_name}}</p>
                            <div class="text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded">
                                ì•ˆë…•í•˜ì„¸ìš”,<br><br>
                                ë‹¤ìŒ ì•Œë¦¼ ê·œì¹™ì´ íŠ¸ë¦¬ê±°ë˜ì—ˆìŠµë‹ˆë‹¤:<br>
                                - ê·œì¹™: {{rule_name}}<br>
                                - ë©”íŠ¸ë¦­: {{metric}} {{operator}} {{threshold}}<br>
                                - í˜„ì¬ ê°’: {{current_value}}<br>
                                - ë°œìƒ ì‹œê°„: {{timestamp}}<br><br>
                                í™•ì¸ ë°”ëë‹ˆë‹¤.
                            </div>
                            <div class="mt-2 flex space-x-2">
                                <button class="btn-ghost px-3 py-1 rounded text-sm">í¸ì§‘</button>
                                <button class="btn-ghost px-3 py-1 rounded text-sm">ë¯¸ë¦¬ë³´ê¸°</button>
                            </div>
                        </div>
                        
                        <div class="rule-condition">
                            <h5 class="font-medium text-sm mb-2">Slack í…œí”Œë¦¿</h5>
                            <div class="text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded">
                                ğŸš¨ *{{severity}}* ì•Œë¦¼<br>
                                **{{rule_name}}**<br>
                                ë©”íŠ¸ë¦­: `{{metric}}` {{operator}} {{threshold}}<br>
                                í˜„ì¬ ê°’: **{{current_value}}**<br>
                                ì‹œê°„: {{timestamp}}
                            </div>
                            <div class="mt-2 flex space-x-2">
                                <button class="btn-ghost px-3 py-1 rounded text-sm">í¸ì§‘</button>
                                <button class="btn-ghost px-3 py-1 rounded text-sm">í…ŒìŠ¤íŠ¸ ì „ì†¡</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-medium mb-3">í…œí”Œë¦¿ ë³€ìˆ˜</h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded">
                            <code>{{rule_name}}</code>
                            <span class="text-gray-600 dark:text-gray-400">ê·œì¹™ ì´ë¦„</span>
                        </div>
                        <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded">
                            <code>{{metric}}</code>
                            <span class="text-gray-600 dark:text-gray-400">ë©”íŠ¸ë¦­ ì´ë¦„</span>
                        </div>
                        <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded">
                            <code>{{threshold}}</code>
                            <span class="text-gray-600 dark:text-gray-400">ì„ê³„ê°’</span>
                        </div>
                        <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded">
                            <code>{{current_value}}</code>
                            <span class="text-gray-600 dark:text-gray-400">í˜„ì¬ ê°’</span>
                        </div>
                        <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded">
                            <code>{{severity}}</code>
                            <span class="text-gray-600 dark:text-gray-400">ì‹¬ê°ë„</span>
                        </div>
                        <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded">
                            <code>{{timestamp}}</code>
                            <span class="text-gray-600 dark:text-gray-400">ë°œìƒ ì‹œê°„</span>
                        </div>
                        <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded">
                            <code>{{operator}}</code>
                            <span class="text-gray-600 dark:text-gray-400">ì¡°ê±´ ì—°ì‚°ì</span>
                        </div>
                        <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded">
                            <code>{{tags}}</code>
                            <span class="text-gray-600 dark:text-gray-400">íƒœê·¸ ëª©ë¡</span>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <button class="btn-primary w-full py-2 rounded-md">
                            <i class="fas fa-plus mr-2"></i>
                            ìƒˆ í…œí”Œë¦¿ ìƒì„±
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // í…Œë§ˆ í† ê¸€
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;

        // ì €ì¥ëœ í…Œë§ˆ ë¡œë“œ
        const savedTheme = localStorage.getItem('theme') || 'light';
        if (savedTheme === 'dark') {
            html.classList.add('dark');
        }

        themeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            const currentTheme = html.classList.contains('dark') ? 'dark' : 'light';
            localStorage.setItem('theme', currentTheme);
        });

        // ì•Œë¦¼ ê·œì¹™ ë°ì´í„° (ì‹œë®¬ë ˆì´ì…˜)
        const alertRulesData = [
            {
                id: 1,
                name: 'CPU ì‚¬ìš©ë¥  ê³ ì„ê³„ì¹˜',
                metric: 'cpu.usage',
                condition: '> 85%',
                severity: 'high',
                status: 'active',
                lastAlert: '2024-08-28 13:45:22',
                category: 'system',
                description: 'CPU ì‚¬ìš©ë¥ ì´ 85%ë¥¼ 5ë¶„ê°„ ì´ˆê³¼í•  ë•Œ ì•Œë¦¼'
            },
            {
                id: 2,
                name: 'ë©”ëª¨ë¦¬ ë¶€ì¡± ê²½ê³ ',
                metric: 'memory.usage',
                condition: '> 90%',
                severity: 'critical',
                status: 'active',
                lastAlert: '2024-08-28 12:30:15',
                category: 'system',
                description: 'ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì´ 90%ë¥¼ ì´ˆê³¼í•  ë•Œ ì¦‰ì‹œ ì•Œë¦¼'
            },
            {
                id: 3,
                name: 'ë””ìŠ¤í¬ ìš©ëŸ‰ ê²½ê³ ',
                metric: 'disk.usage',
                condition: '> 80%',
                severity: 'medium',
                status: 'active',
                lastAlert: '2024-08-27 18:22:33',
                category: 'system',
                description: 'ë””ìŠ¤í¬ ì‚¬ìš©ë¥ ì´ 80%ë¥¼ ì´ˆê³¼í•  ë•Œ ì•Œë¦¼'
            },
            {
                id: 4,
                name: 'API ì‘ë‹µì‹œê°„ ì§€ì—°',
                metric: 'response.time',
                condition: '> 2000ms',
                severity: 'high',
                status: 'active',
                lastAlert: '2024-08-28 14:15:41',
                category: 'application',
                description: 'API ì‘ë‹µì‹œê°„ì´ 2ì´ˆë¥¼ ì´ˆê³¼í•  ë•Œ ì•Œë¦¼'
            },
            {
                id: 5,
                name: 'ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì‹œê°„',
                metric: 'network.latency',
                condition: '> 500ms',
                severity: 'medium',
                status: 'inactive',
                lastAlert: '2024-08-26 09:45:12',
                category: 'network',
                description: 'ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì‹œê°„ì´ 500msë¥¼ ì´ˆê³¼í•  ë•Œ ì•Œë¦¼'
            },
            {
                id: 6,
                name: 'ì—ëŸ¬ìœ¨ ê¸‰ì¦',
                metric: 'error.rate',
                condition: '> 5%',
                severity: 'critical',
                status: 'active',
                lastAlert: '2024-08-28 11:20:55',
                category: 'application',
                description: 'ì—ëŸ¬ìœ¨ì´ 5%ë¥¼ ì´ˆê³¼í•  ë•Œ ì¦‰ì‹œ ì•Œë¦¼'
            },
            {
                id: 7,
                name: 'ë³´ì•ˆ ì´ë²¤íŠ¸ íƒì§€',
                metric: 'security.events',
                condition: '> 0',
                severity: 'critical',
                status: 'active',
                lastAlert: '2024-08-28 08:15:30',
                category: 'security',
                description: 'ë³´ì•ˆ ì´ë²¤íŠ¸ê°€ íƒì§€ë  ë•Œ ì¦‰ì‹œ ì•Œë¦¼'
            },
            {
                id: 8,
                name: 'ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨',
                metric: 'db.connection.failed',
                condition: '> 3',
                severity: 'high',
                status: 'inactive',
                lastAlert: '2024-08-25 16:30:22',
                category: 'application',
                description: 'ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨ê°€ 3íšŒë¥¼ ì´ˆê³¼í•  ë•Œ ì•Œë¦¼'
            }
        ];

        let filteredRules = [...alertRulesData];

        // ì•Œë¦¼ ê·œì¹™ í…Œì´ë¸” ë Œë”ë§
        function renderAlertRules() {
            const tbody = document.getElementById('alertRules');
            tbody.innerHTML = '';

            filteredRules.forEach(rule => {
                const tr = document.createElement('tr');
                tr.className = 'border-b hover:bg-gray-50 dark:hover:bg-gray-800';
                
                const severityClass = `severity-${rule.severity}`;
                const severityText = {
                    'low': 'ë‚®ìŒ',
                    'medium': 'ë³´í†µ',
                    'high': 'ë†’ìŒ',
                    'critical': 'ì¹˜ëª…ì '
                };
                const statusClass = rule.status === 'active' ? 'text-green-600' : 'text-gray-500';
                const statusText = rule.status === 'active' ? 'í™œì„±' : 'ë¹„í™œì„±';
                const statusIcon = rule.status === 'active' ? 'fa-check-circle' : 'fa-pause-circle';

                tr.innerHTML = `
                    <td class="py-3 px-4">
                        <div class="font-medium">${rule.name}</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400">${rule.description}</div>
                    </td>
                    <td class="py-3 px-4">
                        <code class="text-xs bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">${rule.metric}</code>
                    </td>
                    <td class="py-3 px-4">${rule.condition}</td>
                    <td class="py-3 px-4">
                        <span class="px-2 py-1 rounded text-xs border ${severityClass}">
                            ${severityText[rule.severity]}
                        </span>
                    </td>
                    <td class="py-3 px-4">
                        <span class="${statusClass}">
                            <i class="fas ${statusIcon} mr-1"></i>
                            ${statusText}
                        </span>
                    </td>
                    <td class="py-3 px-4">
                        <div class="text-sm">${rule.lastAlert}</div>
                    </td>
                    <td class="py-3 px-4">
                        <div class="flex space-x-2">
                            <button onclick="editRule(${rule.id})" class="btn-ghost px-2 py-1 rounded text-xs">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="toggleRule(${rule.id})" class="btn-ghost px-2 py-1 rounded text-xs">
                                <i class="fas fa-power-off"></i>
                            </button>
                            <button onclick="testRule(${rule.id})" class="btn-ghost px-2 py-1 rounded text-xs">
                                <i class="fas fa-play"></i>
                            </button>
                            <button onclick="deleteRule(${rule.id})" class="btn-ghost px-2 py-1 rounded text-xs text-red-600">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // ê·œì¹™ í¼ í† ê¸€
        document.getElementById('toggleRuleForm').addEventListener('click', () => {
            const form = document.getElementById('ruleForm');
            form.classList.toggle('hidden');
        });

        // í¼ ì·¨ì†Œ
        document.getElementById('cancelRule').addEventListener('click', () => {
            document.getElementById('ruleForm').classList.add('hidden');
            document.getElementById('ruleName').value = '';
        });

        // ê·œì¹™ ì €ì¥
        document.getElementById('saveRule').addEventListener('click', () => {
            const ruleName = document.getElementById('ruleName').value;
            const metric = document.getElementById('ruleMetric').value;
            const operator = document.getElementById('ruleOperator').value;
            const threshold = document.getElementById('ruleThreshold').value;
            const unit = document.getElementById('ruleUnit').value;
            const severity = document.getElementById('ruleSeverity').value;
            
            if (!ruleName || !metric || !threshold) {
                alert('í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const newRule = {
                id: alertRulesData.length + 1,
                name: ruleName,
                metric: metric,
                condition: `${operator} ${threshold}${unit}`,
                severity: severity,
                status: 'active',
                lastAlert: '-',
                category: 'system',
                description: `${metric} ë©”íŠ¸ë¦­ì´ ${operator} ${threshold}${unit} ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œ ì•Œë¦¼`
            };
            
            alertRulesData.unshift(newRule);
            filteredRules = [...alertRulesData];
            renderAlertRules();
            
            document.getElementById('ruleForm').classList.add('hidden');
            document.getElementById('ruleName').value = '';
            
            alert('ìƒˆ ì•Œë¦¼ ê·œì¹™ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
        });

        // ê·œì¹™ í…ŒìŠ¤íŠ¸
        function testRule(id) {
            const rule = alertRulesData.find(r => r.id === id);
            if (rule) {
                alert(`ê·œì¹™ "${rule.name}"ì˜ í…ŒìŠ¤íŠ¸ ì•Œë¦¼ì„ ì „ì†¡í–ˆìŠµë‹ˆë‹¤.`);
            }
        }

        // ê·œì¹™ í¸ì§‘
        function editRule(id) {
            const rule = alertRulesData.find(r => r.id === id);
            if (rule) {
                document.getElementById('ruleName').value = rule.name;
                document.getElementById('ruleForm').classList.remove('hidden');
            }
        }

        // ê·œì¹™ í† ê¸€
        function toggleRule(id) {
            const rule = alertRulesData.find(r => r.id === id);
            if (rule) {
                rule.status = rule.status === 'active' ? 'inactive' : 'active';
                filteredRules = [...alertRulesData];
                renderAlertRules();
                alert(`ê·œì¹™ "${rule.name}"ì´(ê°€) ${rule.status === 'active' ? 'í™œì„±í™”' : 'ë¹„í™œì„±í™”'}ë˜ì—ˆìŠµë‹ˆë‹¤.`);
            }
        }

        // ê·œì¹™ ì‚­ì œ
        function deleteRule(id) {
            const rule = alertRulesData.find(r => r.id === id);
            if (rule && confirm(`"${rule.name}" ê·œì¹™ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                const index = alertRulesData.findIndex(r => r.id === id);
                alertRulesData.splice(index, 1);
                filteredRules = [...alertRulesData];
                renderAlertRules();
                alert('ê·œì¹™ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        // í•„í„° ì ìš©
        function applyFilters() {
            const categoryFilter = document.getElementById('categoryFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;

            filteredRules = alertRulesData.filter(rule => {
                const matchesCategory = !categoryFilter || rule.category === categoryFilter;
                const matchesStatus = !statusFilter || rule.status === statusFilter;
                return matchesCategory && matchesStatus;
            });

            renderAlertRules();
        }

        // í•„í„° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.getElementById('categoryFilter').addEventListener('change', applyFilters);
        document.getElementById('statusFilter').addEventListener('change', applyFilters);

        // ìƒˆë¡œê³ ì¹¨
        document.getElementById('refreshBtn').addEventListener('click', () => {
            location.reload();
        });

        // ì´ˆê¸° ë¡œë“œ
        document.addEventListener('DOMContentLoaded', () => {
            renderAlertRules();
        });
    </script>
</body>
</html>