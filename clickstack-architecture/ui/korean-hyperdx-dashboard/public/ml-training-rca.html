<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RCA ë¶„ì„ ëª¨ë¸ í•™ìŠµ - AIRIS EPM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* shadcn/ui CSS Variables */
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 222.2 84% 4.9%;
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96.1%;
            --secondary-foreground: 222.2 47.4% 11.2%;
            --muted: 210 40% 96.1%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96.1%;
            --accent-foreground: 222.2 47.4% 11.2%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 222.2 84% 4.9%;
            --radius: 0.5rem;
        }
        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --popover: 222.2 84% 4.9%;
            --popover-foreground: 210 40% 98%;
            --primary: 210 40% 98%;
            --primary-foreground: 222.2 47.4% 11.2%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 212.7 26.8% 83.9%;
        }

        .btn {
            @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background;
        }

        .btn-primary {
            @apply bg-primary text-primary-foreground hover:bg-primary/90;
            padding: 0.5rem 1rem;
        }

        .btn-ghost {
            @apply hover:bg-accent hover:text-accent-foreground;
            padding: 0.5rem 1rem;
        }
        
        /* Chart Container Fixed Height */
        .ml-chart-container {
            width: 100% !important;
            position: relative !important;
            overflow: hidden !important;
        }
        
        .ml-chart-container.h-32 {
            height: 8rem !important; /* 128px */
        }
        
        .ml-chart-container.h-48 {
            height: 12rem !important; /* 192px */
        }
        
        .ml-chart-container.h-64 {
            height: 16rem !important; /* 256px */
        }
        
        .ml-chart-container canvas {
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
        }
    </style>
</head>
<body class="bg-background text-foreground">
    <!-- Navigation -->
    <nav class="border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
        <div class="container mx-auto px-4">
            <div class="flex h-14 items-center">
                <a href="/portal.html" class="text-xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer">ğŸš€ AIRIS EPM</a>
                
                <div class="ml-auto flex items-center space-x-4">
                    <!-- APM ëª¨ë‹ˆí„°ë§ ë“œë¡­ë‹¤ìš´ -->
                    <div class="relative group">
                        <button class="flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white">
                            <span>ğŸ“Š APM ëª¨ë‹ˆí„°ë§</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute left-0 mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <a href="/j2ee-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">â˜• J2EE ëª¨ë‹ˆí„°ë§</a>
                            <a href="/was-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ—ï¸ WAS ëª¨ë‹ˆí„°ë§</a>
                            <a href="/exception-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸš¨ ì˜ˆì™¸ ì¶”ì </a>
                            <a href="/topology-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ—ºï¸ ì„œë¹„ìŠ¤ ë§µ</a>
                            <a href="/performance-optimization-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">âš¡ ì„±ëŠ¥ ìµœì í™”</a>
                        </div>
                    </div>

                    <!-- AI/ML ì‹œìŠ¤í…œ ë“œë¡­ë‹¤ìš´ -->
                    <div class="relative group">
                        <button class="flex items-center space-x-1 px-3 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20">
                            <span>ğŸ¤– AI/ML ì‹œìŠ¤í…œ</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute left-0 mt-1 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <a href="/ai-prediction-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ”® AI ì˜ˆì¸¡ ë¶„ì„</a>
                            <a href="/data-quality-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ“Š ë°ì´í„° í’ˆì§ˆ</a>
                            <a href="/aiops-management.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ¤– AIOps ê´€ë¦¬</a>
                            <div class="border-t border-gray-200 dark:border-gray-600 my-1"></div>
                            <div class="px-4 py-2 text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-semibold">ML í›ˆë ¨</div>
                            <a href="/ml-training-autoencoder.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ”¬ ì˜¤í† ì¸ì½”ë”</a>
                            <a href="/ml-training-clustering.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ¯ í´ëŸ¬ìŠ¤í„°ë§</a>
                            <a href="/ml-training-lstm.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ§  LSTM</a>
                            <a href="/ml-training-rca.html" class="block px-4 py-2 text-sm text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40">ğŸ” RCA ë¶„ì„</a>
                            <a href="/ml-training-report.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ“‹ í›ˆë ¨ ë¦¬í¬íŠ¸</a>
                            <a href="/clustering-insights.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ’¡ ì¸ì‚¬ì´íŠ¸</a>
                        </div>
                    </div>

                    <!-- ì‹œìŠ¤í…œ ê´€ë¦¬ ë“œë¡­ë‹¤ìš´ -->
                    <div class="relative group">
                        <button class="flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white">
                            <span>âš™ï¸ ì‹œìŠ¤í…œ ê´€ë¦¬</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute left-0 mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <a href="/alert-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ”” ì•Œë¦¼ ê´€ë¦¬</a>
                            <a href="/security-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ›¡ï¸ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§</a>
                            <a href="/log-analysis-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ“„ ë¡œê·¸ ë¶„ì„</a>
                            <a href="/external-integration-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ”— ì™¸ë¶€ í†µí•©</a>
                            <a href="/system-config-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">âš™ï¸ ì‹œìŠ¤í…œ ì„¤ì •</a>
                        </div>
                    </div>

                    <!-- ë¶„ì„ & ë¦¬í¬íŠ¸ ë“œë¡­ë‹¤ìš´ -->
                    <div class="relative group">
                        <button class="flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white">
                            <span>ğŸ“ˆ ë¶„ì„ & ë¦¬í¬íŠ¸</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute right-0 mt-1 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <a href="/deployment-manager.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸš€ ë°°í¬ ê´€ë¦¬</a>
                            <a href="/session-management.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ‘¤ ì„¸ì…˜ ê´€ë¦¬</a>
                            <div class="border-t border-gray-200 dark:border-gray-600 my-1"></div>
                            <div class="px-4 py-2 text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-semibold">ì˜¨í†¨ë¡œì§€</div>
                            <a href="/ontology.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ§  ê¸°ë³¸ ì˜¨í†¨ë¡œì§€</a>
                            <a href="/ontology-tabs.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ“‚ íƒ­ ì˜¨í†¨ë¡œì§€</a>
                            <a href="/ontology-complete.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">ğŸ”— ì™„ì „ ì˜¨í†¨ë¡œì§€</a>
                        </div>
                    </div>

                    <!-- ì±—ë´‡ ì•„ì´ì½˜ -->
                    <button onclick="window.open('/chatbot.html', '_blank', 'width=1200,height=800,scrollbars=yes,resizable=yes')" class="btn btn-ghost" title="ì§€ëŠ¥í˜• ë¶„ì„ ì±—ë´‡">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                    </button>

                    <!-- í…Œë§ˆ í† ê¸€ -->
                    <button id="themeToggle" class="btn btn-ghost">ğŸŒ™</button>
                </div>
            </div>
        </div>
    </nav>
                        </button>
                    </div>
                </div>
                <div class="text-sm text-muted-foreground">
                    <span id="currentTime"></span>
                </div>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Page Title -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold mb-2">ğŸ” RCA ê·¼ë³¸ì›ì¸ ë¶„ì„ ëª¨ë¸ í•™ìŠµ</h1>
            <p class="text-muted-foreground">ì¥ì•  ë°œìƒ ì‹œ ê·¼ë³¸ ì›ì¸ì„ ìë™ ì‹ë³„í•˜ëŠ” AI ë¶„ì„ ëª¨ë¸ì˜ í•™ìŠµ ë° ìµœì í™”</p>
        </div>

        <!-- Root Cause Categories -->
        <div class="bg-card rounded-lg border p-6 mb-8">
            <h2 class="text-xl font-semibold mb-4">ê·¼ë³¸ì›ì¸ ë¶„ë¥˜ ì²´ê³„</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded p-3">
                    <h3 class="font-medium text-red-800 dark:text-red-200 mb-2">ğŸ–¥ï¸ ì¸í”„ë¼</h3>
                    <ul class="text-xs text-red-600 dark:text-red-300 space-y-1">
                        <li>â€¢ ì„œë²„ í•˜ë“œì›¨ì–´ ì¥ì• </li>
                        <li>â€¢ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ</li>
                        <li>â€¢ ìŠ¤í† ë¦¬ì§€ ìš©ëŸ‰ ë¶€ì¡±</li>
                        <li>â€¢ ì „ì›/ëƒ‰ê° ì‹œìŠ¤í…œ</li>
                        <li>â€¢ ê°€ìƒí™” í”Œë«í¼</li>
                    </ul>
                </div>
                <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded p-3">
                    <h3 class="font-medium text-blue-800 dark:text-blue-200 mb-2">ğŸ’» ì• í”Œë¦¬ì¼€ì´ì…˜</h3>
                    <ul class="text-xs text-blue-600 dark:text-blue-300 space-y-1">
                        <li>â€¢ ì½”ë“œ ë²„ê·¸</li>
                        <li>â€¢ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜</li>
                        <li>â€¢ ë¬´í•œ ë£¨í”„</li>
                        <li>â€¢ ì˜ˆì™¸ ì²˜ë¦¬ ì˜¤ë¥˜</li>
                        <li>â€¢ API í˜¸ì¶œ ì‹¤íŒ¨</li>
                    </ul>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded p-3">
                    <h3 class="font-medium text-green-800 dark:text-green-200 mb-2">ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤</h3>
                    <ul class="text-xs text-green-600 dark:text-green-300 space-y-1">
                        <li>â€¢ ì¿¼ë¦¬ ì„±ëŠ¥ ì €í•˜</li>
                        <li>â€¢ í…Œì´ë¸” ë½</li>
                        <li>â€¢ ì¸ë±ìŠ¤ ë¶€ì¡±</li>
                        <li>â€¢ ì—°ê²° í’€ ê³ ê°ˆ</li>
                        <li>â€¢ ë””ìŠ¤í¬ I/O ë³‘ëª©</li>
                    </ul>
                </div>
                <div class="bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700 rounded p-3">
                    <h3 class="font-medium text-orange-800 dark:text-orange-200 mb-2">ğŸ”§ ìš´ì˜</h3>
                    <ul class="text-xs text-orange-600 dark:text-orange-300 space-y-1">
                        <li>â€¢ ë°°í¬ ì˜¤ë¥˜</li>
                        <li>â€¢ ì„¤ì • ë³€ê²½</li>
                        <li>â€¢ ìš©ëŸ‰ ê³„íš ë¯¸í¡</li>
                        <li>â€¢ ë°±ì—…/ë³µêµ¬ ì‹¤íŒ¨</li>
                        <li>â€¢ ë³´ì•ˆ ì •ì±… ë³€ê²½</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Model Architecture & Training Data -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Model Architecture -->
            <div class="bg-card rounded-lg border p-6">
                <h2 class="text-xl font-semibold mb-4">RCA ëª¨ë¸ ì•„í‚¤í…ì²˜</h2>
                <div class="space-y-4">
                    <div>
                        <h3 class="font-medium text-sm mb-2">íŠ¹ì„± ì¶”ì¶œì¸µ</h3>
                        <div class="bg-muted rounded p-3 text-xs">
                            <p><strong>ì…ë ¥ íŠ¹ì„±:</strong> 50ê°œ (ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­, ë¡œê·¸ íŒ¨í„´, ì•Œë¦¼ ì´ë ¥)</p>
                            <p><strong>ì „ì²˜ë¦¬:</strong> ì •ê·œí™”, ì›-í•« ì¸ì½”ë”©, TF-IDF</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-medium text-sm mb-2">ë”¥ëŸ¬ë‹ ë ˆì´ì–´</h3>
                        <div class="space-y-1 text-xs">
                            <div class="flex justify-between">
                                <span>Dense Layer 1</span>
                                <span class="font-mono">128 units (ReLU)</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Dropout</span>
                                <span class="font-mono">rate=0.3</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Dense Layer 2</span>
                                <span class="font-mono">64 units (ReLU)</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Dense Layer 3</span>
                                <span class="font-mono">32 units (ReLU)</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-medium text-sm mb-2">ë¶„ë¥˜ì¸µ</h3>
                        <div class="bg-muted rounded p-3 text-xs">
                            <p><strong>ì¶œë ¥:</strong> 20ê°œ í´ë˜ìŠ¤ (ê·¼ë³¸ì›ì¸ ì¹´í…Œê³ ë¦¬)</p>
                            <p><strong>í™œì„±í™”:</strong> Softmax</p>
                            <p><strong>ì†ì‹¤í•¨ìˆ˜:</strong> Categorical Crossentropy</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Training Data Overview -->
            <div class="bg-card rounded-lg border p-6">
                <h2 class="text-xl font-semibold mb-4">í•™ìŠµ ë°ì´í„° í˜„í™©</h2>
                <div class="space-y-4">
                    <div>
                        <h3 class="font-medium text-sm mb-2">ë°ì´í„°ì…‹ êµ¬ì„±</h3>
                        <div class="h-32 ml-chart-container">
                            <canvas id="datasetCompositionChart" class="w-full h-full"></canvas>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-muted-foreground">ì´ ì¸ì‹œë˜íŠ¸ ìˆ˜</span>
                            <span class="font-medium">12,847</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-muted-foreground">ë ˆì´ë¸”ëœ ë°ì´í„°</span>
                            <span class="font-medium text-green-600">11,203 (87.2%)</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-muted-foreground">ê²€ì¦ëœ RCA</span>
                            <span class="font-medium text-blue-600">9,876 (88.2%)</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-muted-foreground">ë°ì´í„° í’ˆì§ˆ ì ìˆ˜</span>
                            <span class="font-medium text-purple-600">92.4/100</span>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-medium text-sm mb-2">ìµœê·¼ ì—…ë°ì´íŠ¸</h3>
                        <div class="space-y-1 text-xs">
                            <div class="flex justify-between">
                                <span>2024-08-27</span>
                                <span class="text-green-600">+234 ìƒˆ ì¸ì‹œë˜íŠ¸</span>
                            </div>
                            <div class="flex justify-between">
                                <span>2024-08-26</span>
                                <span class="text-blue-600">+187 RCA ê²€ì¦</span>
                            </div>
                            <div class="flex justify-between">
                                <span>2024-08-25</span>
                                <span class="text-orange-600">+156 íŒ¨í„´ ë¶„ë¥˜</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Training Configuration -->
        <div class="bg-card rounded-lg border p-6 mb-8">
            <h2 class="text-xl font-semibold mb-4">RCA ëª¨ë¸ í•™ìŠµ ì„¤ì •</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                <!-- Data Selection -->
                <div>
                    <label class="block text-sm font-medium mb-2">í•™ìŠµ ë°ì´í„° ë²”ìœ„</label>
                    <select id="dataRange" class="w-full px-3 py-2 bg-background border rounded-md focus:ring-2 focus:ring-primary">
                        <option value="recent">ìµœê·¼ 3ê°œì›”</option>
                        <option value="quarter">ìµœê·¼ 6ê°œì›”</option>
                        <option value="year">ìµœê·¼ 1ë…„</option>
                        <option value="all">ì „ì²´ ë°ì´í„°</option>
                    </select>
                </div>

                <!-- Incident Types -->
                <div>
                    <label class="block text-sm font-medium mb-2">ì¸ì‹œë˜íŠ¸ íƒ€ì…</label>
                    <select id="incidentType" class="w-full px-3 py-2 bg-background border rounded-md focus:ring-2 focus:ring-primary">
                        <option value="all">ëª¨ë“  íƒ€ì…</option>
                        <option value="critical">Criticalë§Œ</option>
                        <option value="high">High ì´ìƒ</option>
                        <option value="verified">ê²€ì¦ëœ RCAë§Œ</option>
                    </select>
                </div>

                <!-- Learning Rate -->
                <div>
                    <label class="block text-sm font-medium mb-2">í•™ìŠµë¥ </label>
                    <input type="number" id="learningRate" value="0.001" step="0.0001" min="0.00001" max="0.1" 
                           class="w-full px-3 py-2 bg-background border rounded-md focus:ring-2 focus:ring-primary">
                </div>

                <!-- Batch Size -->
                <div>
                    <label class="block text-sm font-medium mb-2">ë°°ì¹˜ í¬ê¸°</label>
                    <input type="number" id="batchSize" value="24" min="8" max="128" 
                           class="w-full px-3 py-2 bg-background border rounded-md focus:ring-2 focus:ring-primary">
                </div>
            </div>

            <!-- Advanced RCA Settings -->
            <div class="pt-6 border-t">
                <h3 class="font-medium mb-4">RCA ì „ìš© ì„¤ì •</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">ë¶„ë¥˜ ì„ê³„ê°’</label>
                        <input type="number" id="classificationThreshold" value="0.7" step="0.1" min="0.1" max="1.0" 
                               class="w-full px-3 py-2 bg-background border rounded-md focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">ë‹¤ì¤‘ ì›ì¸ í—ˆìš©</label>
                        <select id="multiCauseMode" class="w-full px-3 py-2 bg-background border rounded-md focus:ring-2 focus:ring-primary">
                            <option value="single">ë‹¨ì¼ ì›ì¸</option>
                            <option value="multi">ë‹¤ì¤‘ ì›ì¸</option>
                            <option value="hierarchical">ê³„ì¸µì  ë¶„ì„</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">íŠ¹ì„± ì¤‘ìš”ë„ ë¶„ì„</label>
                        <div class="flex items-center space-x-2">
                            <input type="checkbox" id="enableShap" checked class="rounded">
                            <label for="enableShap" class="text-sm">SHAP í™œì„±í™”</label>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">ì—í¬í¬ ìˆ˜</label>
                        <input type="number" id="epochs" value="80" min="20" max="500" 
                               class="w-full px-3 py-2 bg-background border rounded-md focus:ring-2 focus:ring-primary">
                    </div>
                </div>
            </div>

            <!-- Training Controls -->
            <div class="mt-6 flex gap-4">
                <button id="startTrainingBtn" onclick="startTraining()" 
                        class="px-6 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors">
                    ğŸš€ RCA ëª¨ë¸ í•™ìŠµ ì‹œì‘
                </button>
                <button id="stopTrainingBtn" onclick="stopTraining()" disabled
                        class="px-6 py-2 bg-destructive text-destructive-foreground rounded-md hover:bg-destructive/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                    â¹ï¸ í•™ìŠµ ì¤‘ë‹¨
                </button>
                <button onclick="testRCA()"
                        class="px-6 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors">
                    ğŸ§ª RCA í…ŒìŠ¤íŠ¸
                </button>
            </div>
        </div>

        <!-- Training Progress -->
        <div class="bg-card rounded-lg border p-6 mb-8" id="trainingProgress" style="display: none;">
            <h2 class="text-xl font-semibold mb-4">RCA ëª¨ë¸ í•™ìŠµ ì§„í–‰ìƒí™©</h2>
            
            <!-- Progress Indicators -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 rounded p-3">
                    <p class="text-sm text-muted-foreground mb-1">ë¶„ë¥˜ ì •í™•ë„</p>
                    <p class="text-2xl font-bold text-indigo-700 dark:text-indigo-300" id="classificationAccuracy">0%</p>
                </div>
                <div class="bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded p-3">
                    <p class="text-sm text-muted-foreground mb-1">ì •ë°€ë„ (Precision)</p>
                    <p class="text-2xl font-bold text-emerald-700 dark:text-emerald-300" id="precision">0%</p>
                </div>
                <div class="bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded p-3">
                    <p class="text-sm text-muted-foreground mb-1">ì¬í˜„ìœ¨ (Recall)</p>
                    <p class="text-2xl font-bold text-amber-700 dark:text-amber-300" id="recall">0%</p>
                </div>
                <div class="bg-gradient-to-br from-violet-50 to-violet-100 dark:from-violet-900/20 dark:to-violet-800/20 rounded p-3">
                    <p class="text-sm text-muted-foreground mb-1">F1 ìŠ¤ì½”ì–´</p>
                    <p class="text-2xl font-bold text-violet-700 dark:text-violet-300" id="f1Score">0%</p>
                </div>
            </div>

            <!-- Progress Bar -->
            <div class="mb-6">
                <div class="flex justify-between mb-2">
                    <span class="text-sm text-muted-foreground">í•™ìŠµ ì§„í–‰</span>
                    <span class="text-sm font-medium" id="progressText">0 / 80 epochs</span>
                </div>
                <div class="w-full bg-muted rounded-full h-3">
                    <div id="progressBar" class="bg-gradient-to-r from-indigo-500 to-purple-600 h-3 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>

            <!-- Training Charts -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="font-medium mb-3">ì†ì‹¤ ë° ì •í™•ë„ ì¶”ì´</h3>
                    <div class="h-64 ml-chart-container">
                        <canvas id="trainingChart" class="w-full h-full"></canvas>
                    </div>
                </div>
                <div>
                    <h3 class="font-medium mb-3">í˜¼ë™ í–‰ë ¬ (ì‹¤ì‹œê°„)</h3>
                    <div class="h-64 ml-chart-container">
                        <canvas id="confusionMatrixChart" class="w-full h-full"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Model Evaluation Results -->
        <div class="bg-card rounded-lg border p-6" id="evaluationResults" style="display: none;">
            <h2 class="text-xl font-semibold mb-4">RCA ëª¨ë¸ í‰ê°€ ê²°ê³¼</h2>
            
            <!-- Performance Summary -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-muted rounded p-4">
                    <h3 class="font-medium mb-3">ì „ì²´ ì„±ëŠ¥ ì§€í‘œ</h3>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span class="text-sm">ì „ì²´ ì •í™•ë„</span>
                            <span class="font-bold text-green-600" id="finalAccuracy">91.3%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm">ë§¤í¬ë¡œ F1 ìŠ¤ì½”ì–´</span>
                            <span class="font-bold" id="macroF1">0.887</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm">ì›¨ì´í‹°ë“œ F1 ìŠ¤ì½”ì–´</span>
                            <span class="font-bold" id="weightedF1">0.913</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm">AUC-ROC</span>
                            <span class="font-bold text-blue-600" id="aucScore">0.952</span>
                        </div>
                    </div>
                </div>

                <div class="bg-muted rounded p-4">
                    <h3 class="font-medium mb-3">ì›ì¸ë³„ ì„±ëŠ¥</h3>
                    <div class="space-y-2 text-xs">
                        <div class="flex justify-between">
                            <span>ì¸í”„ë¼ ì¥ì• </span>
                            <span class="font-medium text-red-600">F1: 0.94</span>
                        </div>
                        <div class="flex justify-between">
                            <span>ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜¤ë¥˜</span>
                            <span class="font-medium text-blue-600">F1: 0.89</span>
                        </div>
                        <div class="flex justify-between">
                            <span>ë°ì´í„°ë² ì´ìŠ¤ ë¬¸ì œ</span>
                            <span class="font-medium text-green-600">F1: 0.92</span>
                        </div>
                        <div class="flex justify-between">
                            <span>ë„¤íŠ¸ì›Œí¬ ì¥ì• </span>
                            <span class="font-medium text-orange-600">F1: 0.87</span>
                        </div>
                        <div class="flex justify-between">
                            <span>ìš´ì˜ ì‹¤ìˆ˜</span>
                            <span class="font-medium text-purple-600">F1: 0.85</span>
                        </div>
                    </div>
                </div>

                <div class="bg-muted rounded p-4">
                    <h3 class="font-medium mb-3">ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥</h3>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span class="text-sm">í‰ê·  ë¶„ì„ ì‹œê°„</span>
                            <span class="font-bold text-green-600" id="avgAnalysisTime">23ì´ˆ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm">ìˆ˜ë™ ë¶„ì„ ëŒ€ë¹„</span>
                            <span class="font-bold" id="timeReduction">85% ë‹¨ì¶•</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm">ì˜¤ì§„ë‹¨ ë°©ì§€</span>
                            <span class="font-bold text-blue-600" id="errorPrevention">67% ê°ì†Œ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm">MTTR ê°œì„ </span>
                            <span class="font-bold text-purple-600" id="mttrImprovement">42% ë‹¨ì¶•</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Detailed Analysis Charts -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <h3 class="font-medium mb-3">ì›ì¸ë³„ ì •í™•ë„ ìƒì„¸</h3>
                    <div class="h-48 ml-chart-container">
                        <canvas id="categoryAccuracyChart" class="w-full h-full"></canvas>
                    </div>
                </div>
                <div>
                    <h3 class="font-medium mb-3">íŠ¹ì„± ì¤‘ìš”ë„ (Top 10)</h3>
                    <div class="h-48 ml-chart-container">
                        <canvas id="featureImportanceChart" class="w-full h-full"></canvas>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex gap-4">
                <button onclick="deployModel()" class="px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors">
                    ğŸš€ ëª¨ë¸ ë°°í¬
                </button>
                <button onclick="generateReport()" class="px-6 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors">
                    ğŸ“Š ìƒì„¸ ë¦¬í¬íŠ¸ ìƒì„±
                </button>
                <button onclick="exportModel()" class="px-6 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors">
                    ğŸ“¥ ëª¨ë¸ ë‚´ë³´ë‚´ê¸°
                </button>
            </div>
        </div>
    </main>

    <script>
        let trainingChart, confusionMatrixChart, datasetCompositionChart, categoryAccuracyChart, featureImportanceChart;
        let isTraining = false;
        let trainingInterval;

        function initCharts() {
            // Dataset Composition Chart
            const datasetCtx = document.getElementById('datasetCompositionChart')?.getContext('2d');
            if (datasetCtx) {
                datasetCompositionChart = new Chart(datasetCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['ì¸í”„ë¼', 'ì• í”Œë¦¬ì¼€ì´ì…˜', 'DB', 'ë„¤íŠ¸ì›Œí¬', 'ìš´ì˜', 'ê¸°íƒ€'],
                        datasets: [{
                            data: [2847, 3124, 2456, 1934, 1687, 799],
                            backgroundColor: [
                                'rgba(239, 68, 68, 0.8)',
                                'rgba(59, 130, 246, 0.8)',
                                'rgba(34, 197, 94, 0.8)',
                                'rgba(249, 115, 22, 0.8)',
                                'rgba(147, 51, 234, 0.8)',
                                'rgba(156, 163, 175, 0.8)'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        animation: { duration: 0 },
                        animation: { duration: 0 }, // í¬ê¸° ë³€ê²½ ì‹œ ì• ë‹ˆë©”ì´ì…˜ ì œê±°
                        plugins: { legend: { position: 'bottom' } }
                    }
                });
            }

            // Training Chart
            const trainingCtx = document.getElementById('trainingChart')?.getContext('2d');
            if (trainingCtx) {
                trainingChart = new Chart(trainingCtx, {
                    type: 'line',
                    data: {
                        labels: [],
                        datasets: [{
                            label: 'í•™ìŠµ ì†ì‹¤',
                            data: [],
                            borderColor: 'rgb(239, 68, 68)',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'ê²€ì¦ ì†ì‹¤',
                            data: [],
                            borderColor: 'rgb(59, 130, 246)',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'ì •í™•ë„',
                            data: [],
                            borderColor: 'rgb(34, 197, 94)',
                            backgroundColor: 'rgba(34, 197, 94, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        animation: { duration: 0 },
                        plugins: { legend: { display: true } },
                        scales: {
                            x: { title: { display: true, text: 'Epoch' } },
                            y: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'Loss' } },
                            y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: 'Accuracy' }, grid: { drawOnChartArea: false } }
                        }
                    }
                });
            }

            // Confusion Matrix Chart (simplified)
            const confusionCtx = document.getElementById('confusionMatrixChart')?.getContext('2d');
            if (confusionCtx) {
                confusionMatrixChart = new Chart(confusionCtx, {
                    type: 'bar',
                    data: {
                        labels: ['ì¸í”„ë¼', 'ì•±', 'DB', 'ë„¤íŠ¸ì›Œí¬', 'ìš´ì˜'],
                        datasets: [{
                            label: 'ì •í™•í•œ ë¶„ë¥˜',
                            data: [],
                            backgroundColor: 'rgba(34, 197, 94, 0.8)'
                        }, {
                            label: 'ì˜ëª»ëœ ë¶„ë¥˜',
                            data: [],
                            backgroundColor: 'rgba(239, 68, 68, 0.8)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        animation: { duration: 0 },
                        plugins: { legend: { display: true } },
                        scales: { y: { stacked: true }, x: { stacked: true } }
                    }
                });
            }
        }

        async function startTraining() {
            const dataRange = document.getElementById('dataRange').value;
            const incidentType = document.getElementById('incidentType').value;
            const learningRate = parseFloat(document.getElementById('learningRate').value);
            const batchSize = parseInt(document.getElementById('batchSize').value);
            const epochs = parseInt(document.getElementById('epochs').value);
            const classificationThreshold = parseFloat(document.getElementById('classificationThreshold').value);

            // Show training progress
            document.getElementById('trainingProgress').style.display = 'block';
            document.getElementById('evaluationResults').style.display = 'none';
            
            document.getElementById('startTrainingBtn').disabled = true;
            document.getElementById('stopTrainingBtn').disabled = false;
            
            isTraining = true;

            // Generate sophisticated mock incident data
            const trainingData = generateMockIncidentData(dataRange, incidentType);
            console.log(`ğŸ“Š RCA í•™ìŠµ ë°ì´í„° ì¤€ë¹„ ì™„ë£Œ: ${trainingData.length}ê°œ ì¸ì‹œë˜íŠ¸`);

            try {
                const response = await fetch('http://localhost:3004/api/models/rca/train', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        datasetId: `rca_${dataRange}_${incidentType}`,
                        hyperparameters: {
                            learningRate,
                            epochs,
                            batchSize,
                            classificationThreshold
                        },
                        trainingData: trainingData
                    })
                });

                if (!response.ok) {
                    throw new Error('RCA training failed');
                }

                // Simulate training progress
                simulateTrainingProgress(epochs);

            } catch (error) {
                console.log('âš ï¸ AIOps API ì„œë²„ ì—°ê²° ì‹¤íŒ¨, ëª¨ì˜ RCA í•™ìŠµìœ¼ë¡œ ì „í™˜:', error.message);
                console.log('ğŸ”„ í´ë¼ì´ì–¸íŠ¸ ê¸°ë°˜ RCA ëª¨ë¸ í•™ìŠµ ì‹œë®¬ë ˆì´ì…˜ì„ ì‹œì‘í•©ë‹ˆë‹¤...');
                // Continue with enhanced mock training simulation
                simulateTrainingProgress(epochs);
            }
        }

        // Enhanced RCA training simulation with realistic patterns
        function simulateTrainingProgress(totalEpochs) {
            let currentEpoch = 0;
            const learningRate = parseFloat(document.getElementById('learningRate').value);
            const batchSize = parseInt(document.getElementById('batchSize').value);
            
            console.log(`ğŸš€ RCA ëª¨ë¸ í•™ìŠµ ì‹œì‘: ${totalEpochs} epochs, LR=${learningRate}, Batch=${batchSize}`);
            
            trainingInterval = setInterval(() => {
                if (!isTraining || currentEpoch >= totalEpochs) {
                    clearInterval(trainingInterval);
                    if (currentEpoch >= totalEpochs) {
                        console.log('âœ… RCA ëª¨ë¸ í•™ìŠµ ì™„ë£Œ!');
                        showEvaluationResults();
                    }
                    return;
                }

                currentEpoch++;
                const progress = (currentEpoch / totalEpochs) * 100;
                const normalizedProgress = currentEpoch / totalEpochs;
                
                // Update progress
                document.getElementById('progressBar').style.width = progress + '%';
                document.getElementById('progressText').textContent = `${currentEpoch} / ${totalEpochs} epochs`;
                
                // Enhanced RCA-specific metrics simulation
                const initialLoss = 3.2;
                const loss = initialLoss * Math.exp(-normalizedProgress * 2.5) + 0.08 * Math.random() + 0.05;
                
                const accuracyBase = 0.65 + 0.32 * (1 - Math.exp(-normalizedProgress * 3.2)) + 0.03 * Math.random();
                const accuracy = Math.min(0.97, accuracyBase);
                
                const precisionBase = 0.58 + 0.38 * (1 - Math.exp(-normalizedProgress * 2.8)) + 0.04 * Math.random();
                const precision = Math.min(0.96, precisionBase);
                
                const recallBase = 0.52 + 0.43 * (1 - Math.exp(-normalizedProgress * 2.3)) + 0.05 * Math.random();
                const recall = Math.min(0.95, recallBase);
                
                const f1Score = 2 * (precision * recall) / (precision + recall);
                const currentLR = learningRate * Math.pow(0.95, Math.floor(currentEpoch / 10));
                
                // Update UI with enhanced metrics
                document.getElementById('classificationAccuracy').textContent = `${(accuracy * 100).toFixed(1)}%`;
                document.getElementById('precision').textContent = `${(precision * 100).toFixed(1)}%`;
                document.getElementById('recall').textContent = `${(recall * 100).toFixed(1)}%`;
                document.getElementById('f1Score').textContent = `${(f1Score * 100).toFixed(1)}%`;
                
                // Log training progress
                if (currentEpoch % 10 === 0 || currentEpoch === 1) {
                    console.log(`ğŸ“Š Epoch ${currentEpoch}/${totalEpochs}: Loss=${loss.toFixed(4)}, Acc=${(accuracy * 100).toFixed(1)}%, F1=${f1Score.toFixed(3)}`);
                }
                
                // Update training chart with more realistic curves
                if (trainingChart) {
                    const valLoss = loss + Math.random() * 0.15 + 0.05; // Validation loss slightly higher
                    
                    trainingChart.data.labels.push(currentEpoch);
                    trainingChart.data.datasets[0].data.push(Math.max(0.05, loss)); // Training loss
                    trainingChart.data.datasets[1].data.push(Math.max(0.05, valLoss)); // Validation loss
                    trainingChart.data.datasets[2].data.push(accuracy); // Accuracy
                    trainingChart.update('none');
                }
                
                // Update confusion matrix every 5 epochs with realistic RCA patterns
                if (confusionMatrixChart && currentEpoch % 5 === 0) {
                    // Simulate RCA category performance (infrastructure usually easier to identify)
                    const baseCorrectRates = [0.94, 0.89, 0.92, 0.87, 0.85]; // infra, app, db, network, ops
                    const correct = baseCorrectRates.map(rate => {
                        const improvement = normalizedProgress * 0.15; // Up to 15% improvement
                        const finalRate = Math.min(0.98, rate + improvement + (Math.random() - 0.5) * 0.05);
                        return finalRate * 100;
                    });
                    const incorrect = correct.map(x => Math.max(0, 100 - x));
                    
                    confusionMatrixChart.data.datasets[0].data = correct;
                    confusionMatrixChart.data.datasets[1].data = incorrect;
                    confusionMatrixChart.update('none');
                }
                
                // Variable delay for realistic training simulation
                const delay = Math.max(150, 350 - (normalizedProgress * 200)); // Faster near end
                
            }, 300); // Slightly faster for better UX
        }

        function stopTraining() {
            isTraining = false;
            if (trainingInterval) {
                clearInterval(trainingInterval);
            }
            
            document.getElementById('startTrainingBtn').disabled = false;
            document.getElementById('stopTrainingBtn').disabled = true;
        }

        function showEvaluationResults() {
            stopTraining();
            document.getElementById('evaluationResults').style.display = 'block';
            
            // Initialize category accuracy chart
            const categoryCtx = document.getElementById('categoryAccuracyChart')?.getContext('2d');
            if (categoryCtx && !categoryAccuracyChart) {
                categoryAccuracyChart = new Chart(categoryCtx, {
                    type: 'radar',
                    data: {
                        labels: ['ì¸í”„ë¼', 'ì• í”Œë¦¬ì¼€ì´ì…˜', 'DB', 'ë„¤íŠ¸ì›Œí¬', 'ìš´ì˜', 'ê¸°íƒ€'],
                        datasets: [{
                            label: 'ì •í™•ë„',
                            data: [0.94, 0.89, 0.92, 0.87, 0.85, 0.79],
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            borderColor: 'rgb(59, 130, 246)',
                            pointBackgroundColor: 'rgb(59, 130, 246)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgb(59, 130, 246)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        animation: { duration: 0 },
                        plugins: { legend: { display: false } },
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 1,
                                ticks: { stepSize: 0.2 }
                            }
                        }
                    }
                });
            }

            // Initialize feature importance chart
            const featureCtx = document.getElementById('featureImportanceChart')?.getContext('2d');
            if (featureCtx && !featureImportanceChart) {
                featureImportanceChart = new Chart(featureCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Error Rate', 'CPU Usage', 'Memory', 'Response Time', 'Log Patterns', 'Alert Count', 'Network', 'Disk I/O', 'Thread Count', 'DB Conn'],
                        datasets: [{
                            label: 'ì¤‘ìš”ë„',
                            data: [0.18, 0.15, 0.13, 0.12, 0.11, 0.09, 0.08, 0.07, 0.04, 0.03],
                            backgroundColor: 'rgba(147, 51, 234, 0.8)',
                            borderColor: 'rgb(147, 51, 234)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        animation: { duration: 0 },
                        plugins: { legend: { display: false } },
                        scales: {
                            x: { title: { display: true, text: 'Features' } },
                            y: { title: { display: true, text: 'Importance Score' } }
                        }
                    }
                });
            }
        }

        // Generate sophisticated mock incident data for RCA training
        function generateMockIncidentData(range, type) {
            const count = range === 'recent' ? 1000 : range === 'quarter' ? 2500 : range === 'year' ? 5000 : 8000;
            const data = [];
            
            const services = ['user-service', 'payment-service', 'order-service', 'inventory-service', 'notification-service', 'auth-service', 'analytics-service'];
            const rootCauseCategories = {
                'infrastructure': ['ì„œë²„ í•˜ë“œì›¨ì–´ ì¥ì• ', 'ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ ë¶€ì¡±', 'ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±', 'DNS í•´ìƒë„ ì‹¤íŒ¨'],
                'application': ['ë©”ëª¨ë¦¬ ëˆ„ìˆ˜', 'ë¬´í•œ ë£¨í”„', 'ë°ë“œë½', 'ì˜ˆì™¸ ì²˜ë¦¬ ë¯¸í¡', 'ì˜ëª»ëœ êµ¬ì„±'],
                'database': ['ì¿¼ë¦¬ ì„±ëŠ¥ ì €í•˜', 'ì¸ë±ìŠ¤ ëˆ„ë½', 'ë½ ê²½í•©', 'ì—°ê²° í’€ ê³ ê°ˆ', 'íŠ¸ëœì­ì…˜ íƒ€ì„ì•„ì›ƒ'],
                'external': ['ì™¸ë¶€ API ì¥ì• ', 'ì¨ë“œíŒŒí‹° ì„œë¹„ìŠ¤ ë‹¤ìš´', 'CDN ë¬¸ì œ', 'ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì˜¤ë¥˜'],
                'security': ['DDoS ê³µê²©', 'SQL ì¸ì ì…˜ ì‹œë„', 'ì¸ì¦ ì‹¤íŒ¨ ê¸‰ì¦', 'ë¹„ì •ìƒì  íŠ¸ë˜í”½ íŒ¨í„´']
            };
            
            const correlationPatterns = {
                'memory_leak': { cpu_usage: [70, 95], memory_usage: [85, 99], response_time: [2000, 8000] },
                'database_lock': { cpu_usage: [20, 40], memory_usage: [30, 60], response_time: [5000, 15000] },
                'ddos_attack': { cpu_usage: [80, 100], memory_usage: [60, 90], response_time: [10000, 30000] },
                'disk_full': { cpu_usage: [40, 70], memory_usage: [70, 95], response_time: [3000, 12000] },
                'network_issue': { cpu_usage: [10, 30], memory_usage: [20, 50], response_time: [8000, 25000] }
            };
            
            for (let i = 0; i < count; i++) {
                const category = Object.keys(rootCauseCategories)[Math.floor(Math.random() * Object.keys(rootCauseCategories).length)];
                const rootCause = rootCauseCategories[category][Math.floor(Math.random() * rootCauseCategories[category].length)];
                const incidentType = Object.keys(correlationPatterns)[Math.floor(Math.random() * Object.keys(correlationPatterns).length)];
                const pattern = correlationPatterns[incidentType];
                
                // Filter by incident type if specified
                let severity;
                if (type === 'critical') {
                    severity = 'critical';
                } else if (type === 'high') {
                    severity = Math.random() > 0.5 ? 'critical' : 'high';
                } else if (type === 'verified') {
                    severity = Math.random() > 0.6 ? 'critical' : Math.random() > 0.4 ? 'high' : 'medium';
                } else {
                    severity = Math.random() > 0.7 ? 'critical' : Math.random() > 0.5 ? 'high' : Math.random() > 0.3 ? 'medium' : 'low';
                }
                
                const severityMultiplier = { critical: 1.5, high: 1.2, medium: 1.0, low: 0.7 }[severity];
                
                data.push({
                    id: `incident_${String(i + 1).padStart(4, '0')}`,
                    timestamp: new Date(Date.now() - Math.random() * 90 * 24 * 60 * 60 * 1000).toISOString(),
                    service: services[Math.floor(Math.random() * services.length)],
                    incident_type: incidentType,
                    category: category,
                    severity: severity,
                    cpu_usage: Math.min(100, (pattern.cpu_usage[0] + Math.random() * (pattern.cpu_usage[1] - pattern.cpu_usage[0])) * severityMultiplier),
                    memory_usage: Math.min(100, (pattern.memory_usage[0] + Math.random() * (pattern.memory_usage[1] - pattern.memory_usage[0])) * severityMultiplier),
                    response_time: (pattern.response_time[0] + Math.random() * (pattern.response_time[1] - pattern.response_time[0])) * severityMultiplier,
                    error_count: Math.floor((10 + Math.random() * 200) * severityMultiplier),
                    affected_users: Math.floor((5 + Math.random() * 1000) * severityMultiplier),
                    root_cause: rootCause,
                    resolution_time: Math.floor((5 + Math.random() * 240) / severityMultiplier), // minutes
                    business_impact: Math.random() * 100000 * severityMultiplier, // ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥ë„ (ì›)
                    verified: type === 'verified' ? true : Math.random() > 0.15 // 85% verified rate
                });
            }
            
            console.log(`âœ… RCA í•™ìŠµ ë°ì´í„° ìƒì„± ì™„ë£Œ: ${count}ê°œ ì¸ì‹œë˜íŠ¸, ${data.filter(d => d.verified).length}ê°œ ê²€ì¦ë¨`);
            return data;
        }

        function testRCA() {
            // RCA í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (í˜„ì¬ í˜ì´ì§€ì—ì„œ ë°”ë¡œ ì‹¤í–‰)
            console.log('ğŸ§ª RCA í…ŒìŠ¤íŠ¸ ì‹œì‘...');
            
            // í…ŒìŠ¤íŠ¸ìš© ëª¨ì˜ ì¸ì‹œë˜íŠ¸ ë°ì´í„° ìƒì„±
            const testIncident = {
                id: 'test_' + Date.now(),
                service: 'user-service',
                timestamp: new Date().toISOString(),
                cpu_usage: 85.3,
                memory_usage: 92.1,
                response_time: 4500,
                error_rate: 8.7,
                log_patterns: ['OutOfMemoryError', 'java.lang.Exception', 'Connection timeout'],
                alert_count: 15,
                network_latency: 120,
                disk_io: 78.5,
                thread_count: 245,
                db_connections: 18
            };
            
            // ëª¨ì˜ RCA ë¶„ì„ ì‹¤í–‰
            setTimeout(() => {
                const analysisResult = {
                    primary_cause: 'ë©”ëª¨ë¦¬ ëˆ„ìˆ˜',
                    confidence: 0.89,
                    category: 'application',
                    suggested_actions: [
                        'í™ ë¤í”„ ë¶„ì„ì„ í†µí•œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì§€ì  ì‹ë³„',
                        'ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘ìœ¼ë¡œ ì¦‰ì‹œ ë³µêµ¬',
                        'ì½”ë“œ ë¦¬ë·°ë¥¼ í†µí•œ ê·¼ë³¸ ì›ì¸ í•´ê²°'
                    ],
                    estimated_resolution_time: '25ë¶„'
                };
                
                // ê²°ê³¼ë¥¼ ëª¨ë‹¬ì´ë‚˜ ì•Œë¦¼ìœ¼ë¡œ í‘œì‹œ
                const resultHtml = `
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
                        <h3>ğŸ” RCA ë¶„ì„ ê²°ê³¼</h3>
                        <p><strong>ê·¼ë³¸ ì›ì¸:</strong> ${analysisResult.primary_cause}</p>
                        <p><strong>ì‹ ë¢°ë„:</strong> ${(analysisResult.confidence * 100).toFixed(1)}%</p>
                        <p><strong>ì¹´í…Œê³ ë¦¬:</strong> ${analysisResult.category}</p>
                        <p><strong>ì˜ˆìƒ í•´ê²° ì‹œê°„:</strong> ${analysisResult.estimated_resolution_time}</p>
                        <p><strong>ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­:</strong></p>
                        <ul>
                            ${analysisResult.suggested_actions.map(action => `<li>${action}</li>`).join('')}
                        </ul>
                    </div>
                `;
                
                // ê²°ê³¼ë¥¼ í˜ì´ì§€ì— í‘œì‹œ
                const resultDiv = document.createElement('div');
                resultDiv.innerHTML = resultHtml;
                resultDiv.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); max-width: 600px; z-index: 1000;';
                
                const overlay = document.createElement('div');
                overlay.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999;';
                
                const closeBtn = document.createElement('button');
                closeBtn.textContent = 'ë‹«ê¸°';
                closeBtn.style.cssText = 'margin-top: 15px; padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;';
                closeBtn.onclick = () => {
                    document.body.removeChild(overlay);
                    document.body.removeChild(resultDiv);
                };
                
                resultDiv.appendChild(closeBtn);
                document.body.appendChild(overlay);
                document.body.appendChild(resultDiv);
                
                console.log('âœ… RCA í…ŒìŠ¤íŠ¸ ì™„ë£Œ:', analysisResult);
                
            }, 2000); // 2ì´ˆ í›„ ê²°ê³¼ í‘œì‹œ (ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜)
            
            // ì¦‰ì‹œ í”¼ë“œë°± ì œê³µ
            alert('ğŸ§ª RCA í…ŒìŠ¤íŠ¸ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë¶„ì„ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.');
        }

        function deployModel() {
            if (confirm('RCA ë¶„ì„ ëª¨ë¸ì„ í”„ë¡œë•ì…˜ì— ë°°í¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                alert('RCA ëª¨ë¸ì´ ì„±ê³µì ìœ¼ë¡œ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        function generateReport() {
            window.open('/ml-training-report.html?model=rca', '_blank');
        }

        function exportModel() {
            alert('RCA ëª¨ë¸ì„ ë‚´ë³´ë‚´ëŠ” ì¤‘ì…ë‹ˆë‹¤...');
        }

        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleString('ko-KR', {
                year: 'numeric', month: '2-digit', day: '2-digit',
                hour: '2-digit', minute: '2-digit', second: '2-digit',
                hour12: false
            });
            document.getElementById('currentTime').textContent = timeString;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initCharts();
            updateTime();
            setInterval(updateTime, 1000);
        });
    </script>
</body>
</html>