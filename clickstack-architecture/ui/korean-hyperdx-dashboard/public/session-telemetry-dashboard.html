<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' http: https:; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://cdn.jsdelivr.net https://d3js.org https://cdn.socket.io; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com;">
    <title>ğŸ”— í†µí•© ì„¸ì…˜-í…”ë ˆë©”íŠ¸ë¦¬ ë¶„ì„ ëŒ€ì‹œë³´ë“œ - AIRIS EPM</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- D3.js for advanced visualizations -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        
        /* shadcn/ui CSS Variables */
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96%;
            --secondary-foreground: 222.2 47.4% 11.2%;
            --muted: 210 40% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96%;
            --accent-foreground: 222.2 47.4% 11.2%;
            --border: 214.3 31.8% 91.4%;
            --radius: 0.5rem;
        }

        .modern-card {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius));
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }

        .btn-primary {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            border: 1px solid hsl(var(--primary));
            border-radius: calc(var(--radius));
            padding: 0.5rem 1rem;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-primary:hover {
            background: hsl(var(--primary) / 0.9);
        }

        .btn-ghost {
            background: transparent;
            color: hsl(var(--foreground));
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius));
            padding: 0.5rem 1rem;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-ghost:hover {
            background: hsl(var(--accent));
        }

        /* ì°¨íŠ¸ ì»¨í…Œì´ë„ˆ ê³ ì • ë†’ì´ */
        .chart-container {
            height: 300px;
            position: relative;
        }

        /* ìƒê´€ê´€ê³„ ì‹œê°í™” ìŠ¤íƒ€ì¼ */
        .correlation-timeline {
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius));
            background: hsl(var(--card));
        }

        .timeline-event {
            position: relative;
            padding: 0.75rem;
            border-left: 3px solid transparent;
            margin: 0.25rem 0;
        }

        .timeline-event.session-event {
            border-left-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }

        .timeline-event.otel-event {
            border-left-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .timeline-event.correlated {
            border-left-color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
        }

        /* ì¸ì‚¬ì´íŠ¸ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .insight-card {
            border-left: 4px solid transparent;
        }

        .insight-card.critical {
            border-left-color: #ef4444;
        }

        .insight-card.high {
            border-left-color: #f97316;
        }

        .insight-card.medium {
            border-left-color: #eab308;
        }

        .insight-card.low {
            border-left-color: #22c55e;
        }

        /* ì„¸ì…˜ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .session-item {
            cursor: pointer;
            transition: all 0.2s;
        }

        .session-item:hover {
            background: hsl(var(--accent));
        }

        .session-item.active {
            background: hsl(var(--primary) / 0.1);
            border-color: hsl(var(--primary));
        }

        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        .loading-spinner {
            border: 2px solid hsl(var(--border));
            border-top: 2px solid hsl(var(--primary));
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .chart-container {
                height: 250px;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Modern Header -->
    <header class="sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur">
        <div class="container mx-auto flex h-14 items-center px-4">
            <div class="mr-4 flex items-center space-x-2">
                <h1 class="font-bold text-xl text-foreground">AIRIS EPM</h1>
                <span class="bg-primary/10 text-primary px-2 py-1 rounded-md text-xs font-medium">í†µí•© ëª¨ë‹ˆí„°ë§</span>
            </div>
            
                <!-- Navigation -->
    <nav class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex items-center">
            <div class="flex-shrink-0">
              <a href="/portal.html" class="text-xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer">ğŸš€ AIRIS EPM</a>
            </div>
            <div class="ml-10 flex items-center space-x-8">
              <!-- ë©”ì¸ ëŒ€ì‹œë³´ë“œ -->
              <a href="/" class="text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white px-3 py-2 text-sm font-medium">ğŸ“Š ë©”ì¸</a>
              
              <!-- APM ëª¨ë‹ˆí„°ë§ ë“œë¡­ë‹¤ìš´ -->
              <div class="relative group">
                <button class="text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors bg-transparent border-none cursor-pointer flex items-center px-3 py-2 text-sm font-medium">
                  âš¡ APM ëª¨ë‹ˆí„°ë§ â–¾
                </button>
                <div class="absolute top-full left-0 mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                  <a href="/j2ee-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">â˜• J2EE ëª¨ë‹ˆí„°ë§</a>
                  <a href="/was-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ—ï¸ WAS ëª¨ë‹ˆí„°ë§</a>
                  <a href="/exception-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸš¨ ì˜ˆì™¸ ì¶”ì </a>
                  <a href="/topology-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ—ºï¸ ì„œë¹„ìŠ¤ í† í´ë¡œì§€</a>
                  <a href="/alert-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ”” ì•Œë¦¼ ê´€ë¦¬</a>
                </div>
              </div>

              <!-- ì¸í”„ë¼ ëª¨ë‹ˆí„°ë§ ë“œë¡­ë‹¤ìš´ -->
              <div class="relative group">
                <button class="text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors bg-transparent border-none cursor-pointer flex items-center px-3 py-2 text-sm font-medium">
                  ğŸ–¥ï¸ ì¸í”„ë¼ ëª¨ë‹ˆí„°ë§ â–¾
                </button>
                <div class="absolute top-full left-0 mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                  <a href="/app-monitoring.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ“± ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§</a>
                  <a href="/system-monitoring.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">âš™ï¸ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§</a>
                  <a href="/db-monitoring.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ—ƒï¸ ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë‹ˆí„°ë§</a>
                  <a href="/web-monitoring.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸŒ ì›¹ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§</a>
                </div>
              </div>

              <!-- ê´€ì°°ì„± ë“œë¡­ë‹¤ìš´ -->
              <div class="relative group">
                <button class="text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors bg-transparent border-none cursor-pointer flex items-center px-3 py-2 text-sm font-medium">
                  ğŸ” ê´€ì°°ì„± â–¾
                </button>
                <div class="absolute top-full left-0 mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                  <a href="/logs-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ“‹ ë¡œê·¸ ëŒ€ì‹œë³´ë“œ</a>
                  <a href="/metrics-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ“Š ë©”íŠ¸ë¦­ ëŒ€ì‹œë³´ë“œ</a>
                  <a href="/traces-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ”— íŠ¸ë ˆì´ìŠ¤ ëŒ€ì‹œë³´ë“œ</a>
                </div>
              </div>

              <!-- ì„¸ì…˜ ë¶„ì„ ë“œë¡­ë‹¤ìš´ -->
              <div class="relative group">
                <button class="bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 transition-colors bg-transparent border-none cursor-pointer flex items-center px-3 py-2 text-sm font-medium rounded-md">
                  ğŸ‘¥ ì„¸ì…˜ ë¶„ì„ â–¾
                </button>
                <div class="absolute top-full left-0 mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                  <a href="/session-analysis.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ“ˆ ì„¸ì…˜ ë¶„ì„</a>
                  <a href="/session-telemetry-dashboard.html" class="block px-4 py-2 text-sm text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/50">ğŸ›°ï¸ ì„¸ì…˜ í…”ë ˆë©”íŠ¸ë¦¬</a>
                  <a href="/session-replay.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ¬ ì„¸ì…˜ ë¦¬í”Œë ˆì´</a>
                </div>
              </div>

              <!-- ì‹œìŠ¤í…œ ê´€ë¦¬ ë“œë¡­ë‹¤ìš´ -->
              <div class="relative group">
                <button class="text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors bg-transparent border-none cursor-pointer flex items-center px-3 py-2 text-sm font-medium">
                  ğŸ› ï¸ ì‹œìŠ¤í…œ ê´€ë¦¬ â–¾
                </button>
                <div class="absolute top-full left-0 mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                  <a href="/services-management.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">âš™ï¸ ì„œë¹„ìŠ¤ ê´€ë¦¬</a>
                  <a href="/deployment-manager.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸš€ ë°°í¬ ê´€ë¦¬</a>
                  <a href="/ontology.html" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white">ğŸ§  ì˜¨í†¨ë¡œì§€ ì‹œìŠ¤í…œ</a>
                </div>
              </div>

            </div>
          </div>
          <div class="flex items-center space-x-4">
            <button id="darkModeToggle" class="p-2 rounded-md text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white">
              <span class="dark:hidden">ğŸŒ™</span>
              <span class="hidden dark:inline">â˜€ï¸</span>
            </button>
            <div id="systemStatus" class="flex items-center space-x-2">
              <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
              <span class="text-sm text-gray-600 dark:text-gray-300">ì‹œìŠ¤í…œ ì •ìƒ</span>
            </div>
          </div>
        </div>
      </div>
    </nav>
            
            <div class="flex items-center space-x-4 ml-auto">
                <select id="timeRange" class="text-sm border border-border rounded-md px-3 py-1 bg-background">
                    <option value="1h">ìµœê·¼ 1ì‹œê°„</option>
                    <option value="24h" selected>ìµœê·¼ 24ì‹œê°„</option>
                    <option value="7d">ìµœê·¼ 7ì¼</option>
                    <option value="30d">ìµœê·¼ 30ì¼</option>
                </select>
                
                <button id="refreshBtn" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3">
                    ìƒˆë¡œê³ ì¹¨
                </button>
                
                <button id="themeToggle" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 w-9">
                    ğŸŒ™
                </button>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- ê°œìš” í†µê³„ -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="modern-card p-6">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="w-8 h-8 bg-blue-100 rounded-md flex items-center justify-center">
                            <span class="text-blue-600">ğŸ‘¥</span>
                        </div>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-500">ì´ ì„¸ì…˜ ìˆ˜</p>
                        <p id="totalSessions" class="text-2xl font-semibold text-gray-900">-</p>
                    </div>
                </div>
            </div>
            
            <div class="modern-card p-6">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="w-8 h-8 bg-green-100 rounded-md flex items-center justify-center">
                            <span class="text-green-600">ğŸ”—</span>
                        </div>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-500">ìƒê´€ê´€ê³„ ìˆ˜</p>
                        <p id="totalCorrelations" class="text-2xl font-semibold text-gray-900">-</p>
                    </div>
                </div>
            </div>
            
            <div class="modern-card p-6">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="w-8 h-8 bg-orange-100 rounded-md flex items-center justify-center">
                            <span class="text-orange-600">ğŸ’¡</span>
                        </div>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-500">ìƒì„±ëœ ì¸ì‚¬ì´íŠ¸</p>
                        <p id="totalInsights" class="text-2xl font-semibold text-gray-900">-</p>
                    </div>
                </div>
            </div>
            
            <div class="modern-card p-6">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="w-8 h-8 bg-purple-100 rounded-md flex items-center justify-center">
                            <span class="text-purple-600">âš¡</span>
                        </div>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-500">í‰ê·  ì‘ë‹µì‹œê°„</p>
                        <p id="avgResponseTime" class="text-2xl font-semibold text-gray-900">-ms</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- ì™¼ìª½: ì„¸ì…˜ ëª©ë¡ -->
            <div class="lg:col-span-1">
                <div class="modern-card">
                    <div class="px-6 py-4 border-b border-gray-200">
                        <h3 class="text-lg font-medium text-gray-900">ì„¸ì…˜ ëª©ë¡</h3>
                        <div class="mt-2 flex space-x-2">
                            <select id="sessionFilter" class="text-sm border border-gray-300 rounded px-2 py-1">
                                <option value="all">ì „ì²´ ì„¸ì…˜</option>
                                <option value="active">í™œì„± ì„¸ì…˜</option>
                                <option value="completed">ì™„ë£Œëœ ì„¸ì…˜</option>
                                <option value="error">ì˜¤ë¥˜ ë°œìƒ ì„¸ì…˜</option>
                            </select>
                            <button id="loadMoreSessions" class="text-sm btn-ghost px-2 py-1">
                                ë”ë³´ê¸°
                            </button>
                        </div>
                    </div>
                    <div class="max-h-96 overflow-y-auto">
                        <div id="sessionList" class="divide-y divide-gray-200">
                            <!-- ì„¸ì…˜ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½: ì„ íƒëœ ì„¸ì…˜ ìƒì„¸ ì •ë³´ -->
            <div class="lg:col-span-2">
                <div id="sessionDetails" class="space-y-6">
                    <!-- ì„¸ì…˜ì´ ì„ íƒë˜ì§€ ì•Šì•˜ì„ ë•Œ í‘œì‹œ -->
                    <div id="noSessionSelected" class="modern-card p-8 text-center">
                        <div class="text-6xl mb-4">ğŸ”</div>
                        <h3 class="text-lg font-medium text-gray-900 mb-2">ì„¸ì…˜ì„ ì„ íƒí•˜ì„¸ìš”</h3>
                        <p class="text-gray-500">ì™¼ìª½ ëª©ë¡ì—ì„œ ì„¸ì…˜ì„ í´ë¦­í•˜ì—¬ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
                    </div>

                    <!-- ì„ íƒëœ ì„¸ì…˜ì˜ ìƒì„¸ ì •ë³´ -->
                    <div id="selectedSessionContent" class="hidden space-y-6">
                        <!-- ì„¸ì…˜ ê¸°ë³¸ ì •ë³´ -->
                        <div class="modern-card p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">ğŸ“‹ ì„¸ì…˜ ê¸°ë³¸ ì •ë³´</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <p class="text-sm text-gray-500">ì„¸ì…˜ ID</p>
                                    <p id="sessionId" class="font-mono text-sm">-</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">OpenTelemetry Trace ID</p>
                                    <p id="otelTraceId" class="font-mono text-sm">-</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">ì‹œì‘ ì‹œê°„</p>
                                    <p id="sessionStartTime" class="text-sm">-</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">ì§€ì† ì‹œê°„</p>
                                    <p id="sessionDuration" class="text-sm">-</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">í˜ì´ì§€ ë·°</p>
                                    <p id="pageViews" class="text-sm">-</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">ìƒíƒœ</p>
                                    <p id="sessionStatus" class="text-sm">
                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium">-</span>
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- ì„±ëŠ¥ ë©”íŠ¸ë¦­ ì°¨íŠ¸ -->
                        <div class="modern-card p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">ğŸ“Š ì„±ëŠ¥ ë©”íŠ¸ë¦­</h3>
                            <div class="chart-container">
                                <canvas id="performanceChart"></canvas>
                            </div>
                        </div>

                        <!-- ìƒê´€ê´€ê³„ íƒ€ì„ë¼ì¸ -->
                        <div class="modern-card p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">â±ï¸ ì„¸ì…˜-í…”ë ˆë©”íŠ¸ë¦¬ ìƒê´€ê´€ê³„ íƒ€ì„ë¼ì¸</h3>
                            <div id="correlationTimeline" class="correlation-timeline max-h-80 overflow-y-auto">
                                <!-- íƒ€ì„ë¼ì¸ ì´ë²¤íŠ¸ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </div>
                        </div>

                        <!-- AI ì¸ì‚¬ì´íŠ¸ -->
                        <div class="modern-card p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">ğŸ’¡ AI ë¶„ì„ ì¸ì‚¬ì´íŠ¸</h3>
                            <div id="insightsList" class="space-y-4">
                                <!-- ì¸ì‚¬ì´íŠ¸ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì „ì²´ ë¶„ì„ ì°¨íŠ¸ ì„¹ì…˜ -->
        <div class="mt-12 grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- ì„¸ì…˜ íŠ¸ë Œë“œ ì°¨íŠ¸ -->
            <div class="modern-card p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-4">ğŸ“ˆ ì„¸ì…˜ ìƒì„± íŠ¸ë Œë“œ</h3>
                <div class="chart-container">
                    <canvas id="sessionTrendChart"></canvas>
                </div>
            </div>

            <!-- ìƒê´€ê´€ê³„ ë¶„ì„ ì°¨íŠ¸ -->
            <div class="modern-card p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-4">ğŸ”— ìƒê´€ê´€ê³„ ë¶„ì„</h3>
                <div class="chart-container">
                    <canvas id="correlationChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let sessions = [];
        let selectedSession = null;
        let performanceChart = null;
        let sessionTrendChart = null;
        let correlationChart = null;

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('ğŸ”— í†µí•© ì„¸ì…˜-í…”ë ˆë©”íŠ¸ë¦¬ ë¶„ì„ ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™” ì¤‘...');
            
            setupEventListeners();
            await loadDashboardData();
            setupCharts();
            
            // 5ë¶„ë§ˆë‹¤ ìë™ ìƒˆë¡œê³ ì¹¨
            setInterval(loadDashboardData, 5 * 60 * 1000);
        });

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupEventListeners() {
            document.getElementById('refreshBtn').addEventListener('click', loadDashboardData);
            document.getElementById('exportBtn').addEventListener('click', exportData);
            document.getElementById('sessionFilter').addEventListener('change', filterSessions);
            document.getElementById('loadMoreSessions').addEventListener('click', loadMoreSessions);
        }

        // ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë¡œë“œ
        async function loadDashboardData() {
            try {
                showLoading(true);
                console.log('ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë¡œë”© ì¤‘...');

                // ê°œìš” í†µê³„ ë¡œë“œ
                await loadOverviewStats();
                
                // ì„¸ì…˜ ëª©ë¡ ë¡œë“œ
                await loadSessions();
                
                // ì°¨íŠ¸ ë°ì´í„° ë¡œë“œ
                await loadChartData();

                showLoading(false);
                console.log('ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë¡œë”© ì™„ë£Œ');

            } catch (error) {
                console.error('ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error);
                showError('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
                showLoading(false);
            }
        }

        // ê°œìš” í†µê³„ ë¡œë“œ
        async function loadOverviewStats() {
            try {
                // ì‹¤ì œ APIê°€ ì—†ìœ¼ë¯€ë¡œ ëª¨ì˜ ë°ì´í„° ì‚¬ìš©
                const stats = {
                    totalSessions: Math.floor(Math.random() * 1000) + 500,
                    totalCorrelations: Math.floor(Math.random() * 5000) + 2000,
                    totalInsights: Math.floor(Math.random() * 200) + 100,
                    avgResponseTime: Math.floor(Math.random() * 300) + 150
                };

                document.getElementById('totalSessions').textContent = stats.totalSessions.toLocaleString();
                document.getElementById('totalCorrelations').textContent = stats.totalCorrelations.toLocaleString();
                document.getElementById('totalInsights').textContent = stats.totalInsights.toLocaleString();
                document.getElementById('avgResponseTime').textContent = stats.avgResponseTime + 'ms';

            } catch (error) {
                console.error('ê°œìš” í†µê³„ ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // ì„¸ì…˜ ëª©ë¡ ë¡œë“œ
        async function loadSessions() {
            try {
                // ì‹¤ì œ APIê°€ ì—†ìœ¼ë¯€ë¡œ ëª¨ì˜ ë°ì´í„° ìƒì„±
                sessions = generateMockSessions(20);
                renderSessionList(sessions);

            } catch (error) {
                console.error('ì„¸ì…˜ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // ëª¨ì˜ ì„¸ì…˜ ë°ì´í„° ìƒì„±
        function generateMockSessions(count) {
            const sessions = [];
            const statuses = ['active', 'completed', 'failed'];
            const pages = ['/dashboard', '/profile', '/settings', '/analytics', '/reports'];
            
            for (let i = 0; i < count; i++) {
                const startTime = new Date(Date.now() - Math.random() * 24 * 60 * 60 * 1000);
                const duration = Math.floor(Math.random() * 1800) + 300; // 5ë¶„-35ë¶„
                
                sessions.push({
                    airis_session_id: `airis-${Date.now()}-${i}`,
                    otel_session_id: `otel-session-${i}`,
                    otel_trace_id: `trace-${Math.random().toString(16).substr(2, 16)}`,
                    user_id: `user-${Math.floor(Math.random() * 100)}`,
                    session_start_time: startTime.toISOString(),
                    session_end_time: new Date(startTime.getTime() + duration * 1000).toISOString(),
                    session_duration_ms: duration * 1000,
                    total_page_views: Math.floor(Math.random() * 10) + 1,
                    actual_page_count: Math.floor(Math.random() * 8) + 1,
                    replay_event_count: Math.floor(Math.random() * 500) + 100,
                    replay_status: statuses[Math.floor(Math.random() * statuses.length)],
                    otel_span_count: Math.floor(Math.random() * 50) + 10,
                    otel_error_count: Math.floor(Math.random() * 5),
                    avg_response_time_ms: Math.floor(Math.random() * 300) + 50,
                    total_requests: Math.floor(Math.random() * 100) + 20,
                    critical_insights_count: Math.floor(Math.random() * 3),
                    high_insights_count: Math.floor(Math.random() * 5),
                    current_page: pages[Math.floor(Math.random() * pages.length)]
                });
            }
            
            return sessions.sort((a, b) => new Date(b.session_start_time) - new Date(a.session_start_time));
        }

        // ì„¸ì…˜ ëª©ë¡ ë Œë”ë§
        function renderSessionList(sessionList) {
            const container = document.getElementById('sessionList');
            container.innerHTML = '';

            sessionList.forEach((session, index) => {
                const sessionElement = createSessionElement(session, index);
                container.appendChild(sessionElement);
            });
        }

        // ì„¸ì…˜ ìš”ì†Œ ìƒì„±
        function createSessionElement(session, index) {
            const div = document.createElement('div');
            div.className = 'session-item p-4 modern-card m-2';
            div.dataset.sessionId = session.airis_session_id;
            
            const statusColor = getStatusColor(session.replay_status);
            const duration = formatDuration(session.session_duration_ms);
            const startTime = new Date(session.session_start_time).toLocaleString();

            div.innerHTML = `
                <div class="flex justify-between items-start">
                    <div class="flex-1">
                        <div class="flex items-center space-x-2">
                            <span class="w-2 h-2 rounded-full ${statusColor}"></span>
                            <span class="font-mono text-xs text-gray-600">${session.airis_session_id.substr(-8)}</span>
                        </div>
                        <div class="mt-1">
                            <p class="text-sm text-gray-900">ì‚¬ìš©ì: ${session.user_id || 'ìµëª…'}</p>
                            <p class="text-xs text-gray-500">${startTime}</p>
                            <p class="text-xs text-gray-500">ì§€ì†ì‹œê°„: ${duration}</p>
                        </div>
                        <div class="mt-2 flex space-x-2">
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                ğŸ“Š ${session.otel_span_count}ê°œ span
                            </span>
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                ğŸ“„ ${session.actual_page_count}ê°œ í˜ì´ì§€
                            </span>
                            ${session.otel_error_count > 0 ? `
                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                    âŒ ${session.otel_error_count}ê°œ ì˜¤ë¥˜
                                </span>
                            ` : ''}
                        </div>
                    </div>
                    <div class="text-right">
                        <span class="text-xs font-medium ${getStatusTextColor(session.replay_status)}">
                            ${getStatusText(session.replay_status)}
                        </span>
                    </div>
                </div>
            `;

            div.addEventListener('click', () => selectSession(session));
            return div;
        }

        // ì„¸ì…˜ ì„ íƒ
        async function selectSession(session) {
            selectedSession = session;
            
            // ì´ì „ ì„ íƒ í•´ì œ
            document.querySelectorAll('.session-item').forEach(el => {
                el.classList.remove('active');
            });
            
            // í˜„ì¬ ì„ íƒ í™œì„±í™”
            document.querySelector(`[data-session-id="${session.airis_session_id}"]`).classList.add('active');
            
            // ìƒì„¸ ì •ë³´ í‘œì‹œ
            document.getElementById('noSessionSelected').classList.add('hidden');
            document.getElementById('selectedSessionContent').classList.remove('hidden');
            
            // ì„¸ì…˜ ê¸°ë³¸ ì •ë³´ ì—…ë°ì´íŠ¸
            updateSessionBasicInfo(session);
            
            // ìƒì„¸ ë°ì´í„° ë¡œë“œ
            await loadSessionDetails(session);
        }

        // ì„¸ì…˜ ê¸°ë³¸ ì •ë³´ ì—…ë°ì´íŠ¸
        function updateSessionBasicInfo(session) {
            document.getElementById('sessionId').textContent = session.airis_session_id;
            document.getElementById('otelTraceId').textContent = session.otel_trace_id || '-';
            document.getElementById('sessionStartTime').textContent = new Date(session.session_start_time).toLocaleString();
            document.getElementById('sessionDuration').textContent = formatDuration(session.session_duration_ms);
            document.getElementById('pageViews').textContent = `${session.actual_page_count}ê°œ í˜ì´ì§€`;
            
            const statusElement = document.getElementById('sessionStatus').querySelector('span');
            statusElement.textContent = getStatusText(session.replay_status);
            statusElement.className = `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusBadgeColor(session.replay_status)}`;
        }

        // ì„¸ì…˜ ìƒì„¸ ë°ì´í„° ë¡œë“œ
        async function loadSessionDetails(session) {
            try {
                // ì„±ëŠ¥ ë©”íŠ¸ë¦­ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                updatePerformanceChart(session);
                
                // ìƒê´€ê´€ê³„ íƒ€ì„ë¼ì¸ ë¡œë“œ
                await loadCorrelationTimeline(session);
                
                // AI ì¸ì‚¬ì´íŠ¸ ë¡œë“œ
                await loadSessionInsights(session);

            } catch (error) {
                console.error('ì„¸ì…˜ ìƒì„¸ ì •ë³´ ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // ì„±ëŠ¥ ë©”íŠ¸ë¦­ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        function updatePerformanceChart(session) {
            const ctx = document.getElementById('performanceChart').getContext('2d');
            
            if (performanceChart) {
                performanceChart.destroy();
            }

            const performanceData = generateMockPerformanceData(session);

            performanceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: performanceData.labels,
                    datasets: [
                        {
                            label: 'ì‘ë‹µ ì‹œê°„ (ms)',
                            data: performanceData.responseTime,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'ì˜¤ë¥˜ ìˆ˜',
                            data: performanceData.errors,
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    scales: {
                        x: {
                            display: true,
                            title: {
                                display: true,
                                text: 'ì‹œê°„'
                            }
                        },
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'ì‘ë‹µ ì‹œê°„ (ms)'
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'ì˜¤ë¥˜ ìˆ˜'
                            },
                            grid: {
                                drawOnChartArea: false,
                            },
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'ì‹¤ì‹œê°„ ì„±ëŠ¥ ë©”íŠ¸ë¦­'
                        }
                    }
                }
            });
        }

        // ìƒê´€ê´€ê³„ íƒ€ì„ë¼ì¸ ë¡œë“œ
        async function loadCorrelationTimeline(session) {
            const timeline = document.getElementById('correlationTimeline');
            timeline.innerHTML = '';

            const correlations = generateMockCorrelations(session);

            correlations.forEach(corr => {
                const eventElement = createTimelineEvent(corr);
                timeline.appendChild(eventElement);
            });
        }

        // íƒ€ì„ë¼ì¸ ì´ë²¤íŠ¸ ìƒì„±
        function createTimelineEvent(correlation) {
            const div = document.createElement('div');
            const eventClass = correlation.type === 'session' ? 'session-event' : 
                              correlation.type === 'otel' ? 'otel-event' : 'correlated';
            
            div.className = `timeline-event ${eventClass}`;
            
            const time = new Date(correlation.timestamp).toLocaleTimeString();
            const confidence = correlation.confidence ? `(ì‹ ë¢°ë„: ${Math.round(correlation.confidence * 100)}%)` : '';

            div.innerHTML = `
                <div class="flex justify-between items-start">
                    <div>
                        <p class="font-medium text-sm">${correlation.title}</p>
                        <p class="text-xs text-gray-600">${correlation.description}</p>
                        ${correlation.duration ? `<p class="text-xs text-gray-500">ì†Œìš”ì‹œê°„: ${correlation.duration}ms</p>` : ''}
                    </div>
                    <div class="text-right">
                        <p class="text-xs font-mono text-gray-500">${time}</p>
                        ${confidence ? `<p class="text-xs text-gray-400">${confidence}</p>` : ''}
                    </div>
                </div>
            `;

            return div;
        }

        // ì„¸ì…˜ ì¸ì‚¬ì´íŠ¸ ë¡œë“œ
        async function loadSessionInsights(session) {
            const container = document.getElementById('insightsList');
            container.innerHTML = '';

            const insights = generateMockInsights(session);

            if (insights.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        <div class="text-4xl mb-2">ğŸ¯</div>
                        <p>ì´ ì„¸ì…˜ì— ëŒ€í•œ ì¸ì‚¬ì´íŠ¸ê°€ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
                    </div>
                `;
                return;
            }

            insights.forEach(insight => {
                const insightElement = createInsightCard(insight);
                container.appendChild(insightElement);
            });
        }

        // ì¸ì‚¬ì´íŠ¸ ì¹´ë“œ ìƒì„±
        function createInsightCard(insight) {
            const div = document.createElement('div');
            div.className = `insight-card modern-card p-4 ${insight.severity}`;

            const severityIcon = getSeverityIcon(insight.severity);
            const severityColor = getSeverityColor(insight.severity);

            div.innerHTML = `
                <div class="flex items-start space-x-3">
                    <div class="flex-shrink-0">
                        <span class="text-lg">${severityIcon}</span>
                    </div>
                    <div class="flex-1">
                        <h4 class="font-medium text-sm text-gray-900">${insight.title}</h4>
                        <p class="text-sm text-gray-600 mt-1">${insight.description}</p>
                        ${insight.recommendations && insight.recommendations.length > 0 ? `
                            <div class="mt-2">
                                <p class="text-xs font-medium text-gray-700">ê¶Œì¥ì‚¬í•­:</p>
                                <ul class="text-xs text-gray-600 list-disc list-inside mt-1">
                                    ${insight.recommendations.map(rec => `<li>${rec}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                        <div class="flex justify-between items-center mt-3">
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${severityColor}">
                                ${insight.severity.toUpperCase()}
                            </span>
                            <span class="text-xs text-gray-500">
                                ${new Date(insight.timestamp).toLocaleString()}
                            </span>
                        </div>
                    </div>
                </div>
            `;

            return div;
        }

        // ì°¨íŠ¸ ë°ì´í„° ë¡œë“œ
        async function loadChartData() {
            try {
                // ì„¸ì…˜ íŠ¸ë Œë“œ ì°¨íŠ¸
                updateSessionTrendChart();
                
                // ìƒê´€ê´€ê³„ ë¶„ì„ ì°¨íŠ¸
                updateCorrelationChart();

            } catch (error) {
                console.error('ì°¨íŠ¸ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // ì„¸ì…˜ íŠ¸ë Œë“œ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        function updateSessionTrendChart() {
            const ctx = document.getElementById('sessionTrendChart').getContext('2d');
            
            if (sessionTrendChart) {
                sessionTrendChart.destroy();
            }

            const trendData = generateMockTrendData();

            sessionTrendChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: trendData.labels,
                    datasets: [
                        {
                            label: 'ìƒˆ ì„¸ì…˜',
                            data: trendData.newSessions,
                            backgroundColor: 'rgba(59, 130, 246, 0.8)',
                            borderColor: '#3b82f6',
                            borderWidth: 1
                        },
                        {
                            label: 'ì™„ë£Œëœ ì„¸ì…˜',
                            data: trendData.completedSessions,
                            backgroundColor: 'rgba(16, 185, 129, 0.8)',
                            borderColor: '#10b981',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'ì„¸ì…˜ ìˆ˜'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'ì‹œê°„'
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'ìµœê·¼ 24ì‹œê°„ ì„¸ì…˜ íŠ¸ë Œë“œ'
                        }
                    }
                }
            });
        }

        // ìƒê´€ê´€ê³„ ë¶„ì„ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        function updateCorrelationChart() {
            const ctx = document.getElementById('correlationChart').getContext('2d');
            
            if (correlationChart) {
                correlationChart.destroy();
            }

            const correlationData = generateMockCorrelationData();

            correlationChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ë†’ì€ ì‹ ë¢°ë„ (90%+)', 'ì¤‘ê°„ ì‹ ë¢°ë„ (70-90%)', 'ë‚®ì€ ì‹ ë¢°ë„ (<70%)'],
                    datasets: [{
                        data: correlationData.confidence,
                        backgroundColor: [
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(245, 158, 11, 0.8)',
                            'rgba(239, 68, 68, 0.8)'
                        ],
                        borderColor: [
                            '#10b981',
                            '#f59e0b',
                            '#ef4444'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'ìƒê´€ê´€ê³„ ì‹ ë¢°ë„ ë¶„í¬'
                        },
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // ì°¨íŠ¸ ì´ˆê¸° ì„¤ì •
        function setupCharts() {
            Chart.defaults.font.family = 'Inter';
            Chart.defaults.font.size = 12;
        }

        // ì„¸ì…˜ í•„í„°ë§
        function filterSessions() {
            const filter = document.getElementById('sessionFilter').value;
            let filteredSessions = sessions;

            switch (filter) {
                case 'active':
                    filteredSessions = sessions.filter(s => s.replay_status === 'active');
                    break;
                case 'completed':
                    filteredSessions = sessions.filter(s => s.replay_status === 'completed');
                    break;
                case 'error':
                    filteredSessions = sessions.filter(s => s.otel_error_count > 0);
                    break;
                default:
                    filteredSessions = sessions;
            }

            renderSessionList(filteredSessions);
        }

        // ë” ë§ì€ ì„¸ì…˜ ë¡œë“œ
        function loadMoreSessions() {
            const moreSessions = generateMockSessions(10);
            sessions.push(...moreSessions);
            renderSessionList(sessions);
        }

        // ë°ì´í„° ë‚´ë³´ë‚´ê¸°
        function exportData() {
            try {
                const exportData = {
                    sessions: sessions,
                    selectedSession: selectedSession,
                    exportTime: new Date().toISOString(),
                    totalSessions: sessions.length
                };

                const dataStr = JSON.stringify(exportData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                
                const link = document.createElement('a');
                link.href = url;
                link.download = `airis-session-telemetry-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);

                console.log('ë°ì´í„° ë‚´ë³´ë‚´ê¸° ì™„ë£Œ');

            } catch (error) {
                console.error('ë°ì´í„° ë‚´ë³´ë‚´ê¸° ì‹¤íŒ¨:', error);
                alert('ë°ì´í„° ë‚´ë³´ë‚´ê¸°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message);
            }
        }

        // ë¡œë”© í‘œì‹œ
        function showLoading(show) {
            const refreshIcon = document.getElementById('refreshIcon');
            if (show) {
                refreshIcon.innerHTML = '<div class="loading-spinner"></div>';
            } else {
                refreshIcon.textContent = 'ğŸ”„';
            }
        }

        // ì˜¤ë¥˜ í‘œì‹œ
        function showError(message) {
            // ê°„ë‹¨í•œ ì˜¤ë¥˜ í‘œì‹œ (ì‹¤ì œë¡œëŠ” ë” ì •êµí•œ UI êµ¬í˜„ í•„ìš”)
            console.error(message);
        }

        // === ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤ ===

        function getStatusColor(status) {
            switch (status) {
                case 'active': return 'bg-green-500';
                case 'completed': return 'bg-blue-500';
                case 'failed': return 'bg-red-500';
                default: return 'bg-gray-500';
            }
        }

        function getStatusTextColor(status) {
            switch (status) {
                case 'active': return 'text-green-700';
                case 'completed': return 'text-blue-700';
                case 'failed': return 'text-red-700';
                default: return 'text-gray-700';
            }
        }

        function getStatusText(status) {
            switch (status) {
                case 'active': return 'ì§„í–‰ ì¤‘';
                case 'completed': return 'ì™„ë£Œë¨';
                case 'failed': return 'ì‹¤íŒ¨í•¨';
                default: return 'ì•Œ ìˆ˜ ì—†ìŒ';
            }
        }

        function getStatusBadgeColor(status) {
            switch (status) {
                case 'active': return 'bg-green-100 text-green-800';
                case 'completed': return 'bg-blue-100 text-blue-800';
                case 'failed': return 'bg-red-100 text-red-800';
                default: return 'bg-gray-100 text-gray-800';
            }
        }

        function formatDuration(ms) {
            if (!ms) return '0ì´ˆ';
            const seconds = Math.floor(ms / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);

            if (hours > 0) {
                return `${hours}ì‹œê°„ ${minutes % 60}ë¶„`;
            } else if (minutes > 0) {
                return `${minutes}ë¶„ ${seconds % 60}ì´ˆ`;
            } else {
                return `${seconds}ì´ˆ`;
            }
        }

        function getSeverityIcon(severity) {
            switch (severity) {
                case 'critical': return 'ğŸ”¥';
                case 'high': return 'âš ï¸';
                case 'medium': return 'ğŸ’¡';
                case 'low': return 'â„¹ï¸';
                default: return 'ğŸ“';
            }
        }

        function getSeverityColor(severity) {
            switch (severity) {
                case 'critical': return 'bg-red-100 text-red-800';
                case 'high': return 'bg-orange-100 text-orange-800';
                case 'medium': return 'bg-yellow-100 text-yellow-800';
                case 'low': return 'bg-green-100 text-green-800';
                default: return 'bg-gray-100 text-gray-800';
            }
        }

        // === ëª¨ì˜ ë°ì´í„° ìƒì„± í•¨ìˆ˜ë“¤ ===

        function generateMockPerformanceData(session) {
            const labels = [];
            const responseTime = [];
            const errors = [];
            
            const startTime = new Date(session.session_start_time);
            const duration = session.session_duration_ms || 300000; // 5ë¶„ ê¸°ë³¸ê°’
            const points = Math.min(20, Math.floor(duration / 15000)); // 15ì´ˆ ê°„ê²©ìœ¼ë¡œ ìµœëŒ€ 20ê°œ í¬ì¸íŠ¸

            for (let i = 0; i < points; i++) {
                const time = new Date(startTime.getTime() + (i * duration / points));
                labels.push(time.toLocaleTimeString());
                responseTime.push(Math.floor(Math.random() * 200) + 50 + Math.sin(i * 0.5) * 30);
                errors.push(Math.random() < 0.1 ? Math.floor(Math.random() * 3) + 1 : 0);
            }

            return { labels, responseTime, errors };
        }

        function generateMockCorrelations(session) {
            const correlations = [];
            const startTime = new Date(session.session_start_time);
            const eventCount = Math.floor(Math.random() * 10) + 5;

            const eventTypes = [
                { type: 'session', title: 'í˜ì´ì§€ ë¡œë“œ', desc: 'ì‚¬ìš©ìê°€ í˜ì´ì§€ì— ì ‘ì†í–ˆìŠµë‹ˆë‹¤' },
                { type: 'otel', title: 'HTTP ìš”ì²­', desc: 'API ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤' },
                { type: 'correlated', title: 'í´ë¦­ ì´ë²¤íŠ¸', desc: 'ì‚¬ìš©ì í´ë¦­ê³¼ ì„œë²„ ìš”ì²­ì´ ì—°ê´€ë˜ì—ˆìŠµë‹ˆë‹¤' },
                { type: 'session', title: 'í¼ ì œì¶œ', desc: 'ì‚¬ìš©ìê°€ í¼ì„ ì œì¶œí–ˆìŠµë‹ˆë‹¤' },
                { type: 'otel', title: 'ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬', desc: 'ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒê°€ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤' }
            ];

            for (let i = 0; i < eventCount; i++) {
                const eventType = eventTypes[Math.floor(Math.random() * eventTypes.length)];
                const timestamp = new Date(startTime.getTime() + Math.random() * (session.session_duration_ms || 300000));
                
                correlations.push({
                    ...eventType,
                    timestamp: timestamp.toISOString(),
                    duration: Math.floor(Math.random() * 500) + 50,
                    confidence: eventType.type === 'correlated' ? Math.random() * 0.3 + 0.7 : null
                });
            }

            return correlations.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));
        }

        function generateMockInsights(session) {
            const insights = [];
            const insightTypes = [
                {
                    severity: 'high',
                    title: 'ë†’ì€ ì‘ë‹µ ì‹œê°„ ê°ì§€',
                    description: 'í‰ê·  ì‘ë‹µ ì‹œê°„ì´ ì„ê³„ê°’ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤.',
                    recommendations: ['ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”', 'ìºì‹œ ì‹œìŠ¤í…œ ê²€í† ']
                },
                {
                    severity: 'medium',
                    title: 'ì‚¬ìš©ì ì´íƒˆ íŒ¨í„´',
                    description: 'ì‚¬ìš©ìê°€ íŠ¹ì • í˜ì´ì§€ì—ì„œ ì´íƒˆí•˜ëŠ” íŒ¨í„´ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.',
                    recommendations: ['UX/UI ê°œì„ ', 'í˜ì´ì§€ ë¡œë”© ì†ë„ ìµœì í™”']
                },
                {
                    severity: 'low',
                    title: 'ì •ìƒì ì¸ ì‚¬ìš©ì íë¦„',
                    description: 'ì‚¬ìš©ìê°€ ì˜ˆìƒëœ ê²½ë¡œëŒ€ë¡œ ì‚¬ì´íŠ¸ë¥¼ ì´ìš©í–ˆìŠµë‹ˆë‹¤.',
                    recommendations: []
                }
            ];

            // ì„¸ì…˜ì˜ ë¬¸ì œ ìƒí™©ì— ë”°ë¼ ì¸ì‚¬ì´íŠ¸ ìƒì„±
            if (session.otel_error_count > 0) {
                insights.push({
                    severity: 'critical',
                    title: 'ì˜¤ë¥˜ ë°œìƒ ê°ì§€',
                    description: `${session.otel_error_count}ê°œì˜ ì˜¤ë¥˜ê°€ ì´ ì„¸ì…˜ì—ì„œ ë°œìƒí–ˆìŠµë‹ˆë‹¤.`,
                    recommendations: ['ì—ëŸ¬ ë¡œê·¸ ë¶„ì„', 'ì˜ˆì™¸ ì²˜ë¦¬ ê°œì„ '],
                    timestamp: session.session_start_time
                });
            }

            if (session.avg_response_time_ms > 200) {
                insights.push({
                    ...insightTypes[0],
                    timestamp: session.session_start_time
                });
            }

            // ëœë¤í•˜ê²Œ ì¶”ê°€ ì¸ì‚¬ì´íŠ¸ ìƒì„±
            if (Math.random() < 0.5) {
                const randomInsight = insightTypes[Math.floor(Math.random() * insightTypes.length)];
                insights.push({
                    ...randomInsight,
                    timestamp: new Date(new Date(session.session_start_time).getTime() + Math.random() * (session.session_duration_ms || 300000)).toISOString()
                });
            }

            return insights;
        }

        function generateMockTrendData() {
            const labels = [];
            const newSessions = [];
            const completedSessions = [];

            for (let i = 23; i >= 0; i--) {
                const hour = new Date();
                hour.setHours(hour.getHours() - i);
                labels.push(hour.getHours() + ':00');
                
                const newCount = Math.floor(Math.random() * 50) + 10;
                const completedCount = Math.floor(newCount * 0.8) + Math.floor(Math.random() * 10);
                
                newSessions.push(newCount);
                completedSessions.push(completedCount);
            }

            return { labels, newSessions, completedSessions };
        }

        function generateMockCorrelationData() {
            return {
                confidence: [
                    Math.floor(Math.random() * 100) + 50,  // ë†’ì€ ì‹ ë¢°ë„
                    Math.floor(Math.random() * 80) + 30,   // ì¤‘ê°„ ì‹ ë¢°ë„
                    Math.floor(Math.random() * 40) + 10    // ë‚®ì€ ì‹ ë¢°ë„
                ]
            };
        }
    </script>
</body>
</html
    /* Dropdown ë©”ë‰´ ì™„ì „ ì œì–´ - ëª¨ë“  Tailwind í´ë˜ìŠ¤ ì˜¤ë²„ë¼ì´ë“œ */
    .relative.group div.absolute {
      opacity: 0 !important;
      visibility: hidden !important;
      transform: translateY(-10px) !important;
      transition: all 0.2s ease-in-out !important;
      z-index: 9999 !important;
      pointer-events: none !important;
    }
    .relative.group:hover div.absolute {
      opacity: 1 !important;
      visibility: visible !important;
      transform: translateY(0) !important;
      z-index: 9999 !important;
      pointer-events: auto !important;
    }
    
    /* ì¶”ê°€ ê°•ì œ ì˜¤ë²„ë¼ì´ë“œ - Tailwind í´ë˜ìŠ¤ë³„ */
    .group-hover\:opacity-100 { opacity: 1 !important; }
    .group-hover\:visible { visibility: visible !important; }
    .opacity-0 { opacity: 0 !important; }
    .invisible { visibility: hidden !important; }
    
    /* ë“œë¡­ë‹¤ìš´ í•­ëª©ë“¤ ëª¨ë‘ ê°•ì œ í‘œì‹œ */
    .relative.group:hover .absolute a {
      opacity: 1 !important;
      visibility: visible !important;
      display: block !important;
    }>